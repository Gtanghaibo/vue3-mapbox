function e(e,t){const n=Object.create(null),o=e.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const t=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function o(e){if(E(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=o(O(r)?s(r):r);if(i)for(const e in i)t[e]=i[e]}return t}if(I(e))return e}const r=/;(?![^(]*\))/g,i=/:(.+)/;function s(e){const t={};return e.split(r).forEach((e=>{if(e){const n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function a(e){let t="";if(O(e))t=e;else if(E(e))for(let n=0;n<e.length;n++){const o=a(e[n]);o&&(t+=o+" ")}else if(I(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const c=e=>null==e?"":I(e)?JSON.stringify(e,u,2):String(e),u=(e,t)=>x(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:S(t)?{[`Set(${t.size})`]:[...t.values()]}:!I(t)||E(t)||L(t)?t:String(t),l={},f=[],p=()=>{},d=()=>!1,h=/^on[^a-z]/,g=e=>h.test(e),y=e=>e.startsWith("onUpdate:"),m=Object.assign,v=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_=Object.prototype.hasOwnProperty,b=(e,t)=>_.call(e,t),E=Array.isArray,x=e=>"[object Map]"===P(e),S=e=>"[object Set]"===P(e),C=e=>"function"==typeof e,O=e=>"string"==typeof e,T=e=>"symbol"==typeof e,I=e=>null!==e&&"object"==typeof e,w=e=>I(e)&&C(e.then)&&C(e.catch),M=Object.prototype.toString,P=e=>M.call(e),L=e=>"[object Object]"===P(e),N=e=>O(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,k=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},F=/-(\w)/g,R=A((e=>e.replace(F,((e,t)=>t?t.toUpperCase():"")))),j=/\B([A-Z])/g,U=A((e=>e.replace(j,"-$1").toLowerCase())),D=A((e=>e.charAt(0).toUpperCase()+e.slice(1))),V=A((e=>e?`on${D(e)}`:"")),B=(e,t)=>e!==t&&(e==e||t==t),$=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},G=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},z=e=>{const t=parseFloat(e);return isNaN(t)?e:t},J=new WeakMap,W=[];let Z;const q=Symbol(""),Y=Symbol("");function H(e,t=l){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!W.includes(n)){Q(n);try{return te.push(ee),ee=!0,W.push(n),Z=n,e()}finally{W.pop(),oe(),Z=W[W.length-1]}}};return n.id=X++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}function K(e){e.active&&(Q(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let X=0;function Q(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ee=!0;const te=[];function ne(){te.push(ee),ee=!1}function oe(){const e=te.pop();ee=void 0===e||e}function re(e,t,n){if(!ee||void 0===Z)return;let o=J.get(e);o||J.set(e,o=new Map);let r=o.get(n);r||o.set(n,r=new Set),r.has(Z)||(r.add(Z),Z.deps.push(r))}function ie(e,t,n,o,r,i){const s=J.get(e);if(!s)return;const a=new Set,c=e=>{e&&e.forEach((e=>{(e!==Z||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(c);else if("length"===n&&E(e))s.forEach(((e,t)=>{("length"===t||t>=o)&&c(e)}));else switch(void 0!==n&&c(s.get(n)),t){case"add":E(e)?N(n)&&c(s.get("length")):(c(s.get(q)),x(e)&&c(s.get(Y)));break;case"delete":E(e)||(c(s.get(q)),x(e)&&c(s.get(Y)));break;case"set":x(e)&&c(s.get(q))}a.forEach((e=>{e.options.scheduler?e.options.scheduler(e):e()}))}const se=e("__proto__,__v_isRef,__isVue"),ae=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(T)),ce=de(),ue=de(!1,!0),le=de(!0),fe=de(!0,!0),pe={};function de(e=!1,t=!1){return function(n,o,r){if("__v_isReactive"===o)return!e;if("__v_isReadonly"===o)return e;if("__v_raw"===o&&r===(e?t?Ge:$e:t?Be:Ve).get(n))return n;const i=E(n);if(!e&&i&&b(pe,o))return Reflect.get(pe,o,r);const s=Reflect.get(n,o,r);if(T(o)?ae.has(o):se(o))return s;if(e||re(n,0,o),t)return s;if(Xe(s)){return!i||!N(o)?s.value:s}return I(s)?e?We(s):Je(s):s}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];pe[e]=function(...e){const n=Ke(this);for(let t=0,r=this.length;t<r;t++)re(n,0,t+"");const o=t.apply(n,e);return-1===o||!1===o?t.apply(n,e.map(Ke)):o}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];pe[e]=function(...e){ne();const n=t.apply(this,e);return oe(),n}}));function he(e=!1){return function(t,n,o,r){let i=t[n];if(!e&&(o=Ke(o),i=Ke(i),!E(t)&&Xe(i)&&!Xe(o)))return i.value=o,!0;const s=E(t)&&N(n)?Number(n)<t.length:b(t,n),a=Reflect.set(t,n,o,r);return t===Ke(r)&&(s?B(o,i)&&ie(t,"set",n,o):ie(t,"add",n,o)),a}}const ge={get:ce,set:he(),deleteProperty:function(e,t){const n=b(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&ie(e,"delete",t,void 0),o},has:function(e,t){const n=Reflect.has(e,t);return T(t)&&ae.has(t)||re(e,0,t),n},ownKeys:function(e){return re(e,0,E(e)?"length":q),Reflect.ownKeys(e)}},ye={get:le,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},me=m({},ge,{get:ue,set:he(!0)});m({},ye,{get:fe});const ve=e=>I(e)?Je(e):e,_e=e=>I(e)?We(e):e,be=e=>e,Ee=e=>Reflect.getPrototypeOf(e);function xe(e,t,n=!1,o=!1){const r=Ke(e=e.__v_raw),i=Ke(t);t!==i&&!n&&re(r,0,t),!n&&re(r,0,i);const{has:s}=Ee(r),a=o?be:n?_e:ve;return s.call(r,t)?a(e.get(t)):s.call(r,i)?a(e.get(i)):void 0}function Se(e,t=!1){const n=this.__v_raw,o=Ke(n),r=Ke(e);return e!==r&&!t&&re(o,0,e),!t&&re(o,0,r),e===r?n.has(e):n.has(e)||n.has(r)}function Ce(e,t=!1){return e=e.__v_raw,!t&&re(Ke(e),0,q),Reflect.get(e,"size",e)}function Oe(e){e=Ke(e);const t=Ke(this);return Ee(t).has.call(t,e)||(t.add(e),ie(t,"add",e,e)),this}function Te(e,t){t=Ke(t);const n=Ke(this),{has:o,get:r}=Ee(n);let i=o.call(n,e);i||(e=Ke(e),i=o.call(n,e));const s=r.call(n,e);return n.set(e,t),i?B(t,s)&&ie(n,"set",e,t):ie(n,"add",e,t),this}function Ie(e){const t=Ke(this),{has:n,get:o}=Ee(t);let r=n.call(t,e);r||(e=Ke(e),r=n.call(t,e)),o&&o.call(t,e);const i=t.delete(e);return r&&ie(t,"delete",e,void 0),i}function we(){const e=Ke(this),t=0!==e.size,n=e.clear();return t&&ie(e,"clear",void 0,void 0),n}function Me(e,t){return function(n,o){const r=this,i=r.__v_raw,s=Ke(i),a=t?be:e?_e:ve;return!e&&re(s,0,q),i.forEach(((e,t)=>n.call(o,a(e),a(t),r)))}}function Pe(e,t,n){return function(...o){const r=this.__v_raw,i=Ke(r),s=x(i),a="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,u=r[e](...o),l=n?be:t?_e:ve;return!t&&re(i,0,c?Y:q),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:a?[l(e[0]),l(e[1])]:l(e),done:t}},[Symbol.iterator](){return this}}}}function Le(e){return function(...t){return"delete"!==e&&this}}const Ne={get(e){return xe(this,e)},get size(){return Ce(this)},has:Se,add:Oe,set:Te,delete:Ie,clear:we,forEach:Me(!1,!1)},ke={get(e){return xe(this,e,!1,!0)},get size(){return Ce(this)},has:Se,add:Oe,set:Te,delete:Ie,clear:we,forEach:Me(!1,!0)},Ae={get(e){return xe(this,e,!0)},get size(){return Ce(this,!0)},has(e){return Se.call(this,e,!0)},add:Le("add"),set:Le("set"),delete:Le("delete"),clear:Le("clear"),forEach:Me(!0,!1)},Fe={get(e){return xe(this,e,!0,!0)},get size(){return Ce(this,!0)},has(e){return Se.call(this,e,!0)},add:Le("add"),set:Le("set"),delete:Le("delete"),clear:Le("clear"),forEach:Me(!0,!0)};function Re(e,t){const n=t?e?Fe:ke:e?Ae:Ne;return(t,o,r)=>"__v_isReactive"===o?!e:"__v_isReadonly"===o?e:"__v_raw"===o?t:Reflect.get(b(n,o)&&o in t?n:t,o,r)}["keys","values","entries",Symbol.iterator].forEach((e=>{Ne[e]=Pe(e,!1,!1),Ae[e]=Pe(e,!0,!1),ke[e]=Pe(e,!1,!0),Fe[e]=Pe(e,!0,!0)}));const je={get:Re(!1,!1)},Ue={get:Re(!1,!0)},De={get:Re(!0,!1)},Ve=new WeakMap,Be=new WeakMap,$e=new WeakMap,Ge=new WeakMap;function ze(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>P(e).slice(8,-1))(e))}function Je(e){return e&&e.__v_isReadonly?e:Ze(e,!1,ge,je,Ve)}function We(e){return Ze(e,!0,ye,De,$e)}function Ze(e,t,n,o,r){if(!I(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const s=ze(e);if(0===s)return e;const a=new Proxy(e,2===s?o:n);return r.set(e,a),a}function qe(e){return Ye(e)?qe(e.__v_raw):!(!e||!e.__v_isReactive)}function Ye(e){return!(!e||!e.__v_isReadonly)}function He(e){return qe(e)||Ye(e)}function Ke(e){return e&&Ke(e.__v_raw)||e}function Xe(e){return Boolean(e&&!0===e.__v_isRef)}const Qe={get:(e,t,n)=>{return Xe(o=Reflect.get(e,t,n))?o.value:o;var o},set:(e,t,n,o)=>{const r=e[t];return Xe(r)&&!Xe(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function et(e){return qe(e)?e:new Proxy(e,Qe)}class tt{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function nt(e,t){return Xe(e[t])?e[t]:new tt(e,t)}class ot{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=H(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ie(Ke(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const e=Ke(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),re(e,0,"value"),e._value}set value(e){this._setter(e)}}function rt(e,t,n,o){let r;try{r=o?e(...o):e()}catch(i){st(i,t,n)}return r}function it(e,t,n,o){if(C(e)){const r=rt(e,t,n,o);return r&&w(r)&&r.catch((e=>{st(e,t,n)})),r}const r=[];for(let i=0;i<e.length;i++)r.push(it(e[i],t,n,o));return r}function st(e,t,n,o=!0){t&&t.vnode;if(t){let o=t.parent;const r=t.proxy,i=n;for(;o;){const t=o.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,i))return;o=o.parent}const s=t.appContext.config.errorHandler;if(s)return void rt(s,null,10,[e,r,i])}!function(e,t,n,o=!0){console.error(e)}(e,0,0,o)}let at=!1,ct=!1;const ut=[];let lt=0;const ft=[];let pt=null,dt=0;const ht=[];let gt=null,yt=0;const mt=Promise.resolve();let vt=null,_t=null;function bt(e){const t=vt||mt;return e?t.then(this?e.bind(this):e):t}function Et(e){if(!(ut.length&&ut.includes(e,at&&e.allowRecurse?lt+1:lt)||e===_t)){const t=function(e){let t=lt+1,n=ut.length;const o=Tt(e);for(;t<n;){const e=t+n>>>1;Tt(ut[e])<o?t=e+1:n=e}return t}(e);t>-1?ut.splice(t,0,e):ut.push(e),xt()}}function xt(){at||ct||(ct=!0,vt=mt.then(It))}function St(e,t,n,o){E(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?o+1:o)||n.push(e),xt()}function Ct(e,t=null){if(ft.length){for(_t=t,pt=[...new Set(ft)],ft.length=0,dt=0;dt<pt.length;dt++)pt[dt]();pt=null,dt=0,_t=null,Ct(e,t)}}function Ot(e){if(ht.length){const e=[...new Set(ht)];if(ht.length=0,gt)return void gt.push(...e);for(gt=e,gt.sort(((e,t)=>Tt(e)-Tt(t))),yt=0;yt<gt.length;yt++)gt[yt]();gt=null,yt=0}}const Tt=e=>null==e.id?1/0:e.id;function It(e){ct=!1,at=!0,Ct(e),ut.sort(((e,t)=>Tt(e)-Tt(t)));try{for(lt=0;lt<ut.length;lt++){const e=ut[lt];e&&rt(e,null,14)}}finally{lt=0,ut.length=0,Ot(),at=!1,vt=null,(ut.length||ht.length)&&It(e)}}function wt(e,t,...n){const o=e.vnode.props||l;let r=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in o){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:i}=o[e]||l;i?r=n.map((e=>e.trim())):t&&(r=n.map(z))}let a,c=o[a=V(t)]||o[a=V(R(t))];!c&&i&&(c=o[a=V(U(t))]),c&&it(c,e,6,r);const u=o[a+"Once"];if(u){if(e.emitted){if(e.emitted[a])return}else(e.emitted={})[a]=!0;it(u,e,6,r)}}function Mt(e,t,n=!1){if(!t.deopt&&void 0!==e.__emits)return e.__emits;const o=e.emits;let r={},i=!1;if(!C(e)){const o=e=>{const n=Mt(e,t,!0);n&&(i=!0,m(r,n))};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return o||i?(E(o)?o.forEach((e=>r[e]=null)):m(r,o),e.__emits=r):e.__emits=null}function Pt(e,t){return!(!e||!g(t))&&(t=t.slice(2).replace(/Once$/,""),b(e,t[0].toLowerCase()+t.slice(1))||b(e,U(t))||b(e,t))}let Lt=0;const Nt=e=>Lt+=e;let kt=null,At=null;function Ft(e){const t=kt;return kt=e,At=e&&e.type.__scopeId||null,t}function Rt(e,t=kt){if(!t)return e;const n=(...n)=>{Lt||Vn(!0);const o=Ft(t),r=e(...n);return Ft(o),Lt||Bn(),r};return n._c=!0,n}function jt(e){const{type:t,vnode:n,proxy:o,withProxy:r,props:i,propsOptions:[s],slots:a,attrs:c,emit:u,render:l,renderCache:f,data:p,setupState:d,ctx:h}=e;let g;const m=Ft(e);try{let e;if(4&n.shapeFlag){const t=r||o;g=Xn(l.call(t,t,f,i,d,p,h)),e=c}else{const n=t;0,g=Xn(n.length>1?n(i,{attrs:c,slots:a,emit:u}):n(i,null)),e=t.props?c:Dt(c)}let m=g;if(!1!==t.inheritAttrs&&e){const t=Object.keys(e),{shapeFlag:n}=m;t.length&&(1&n||6&n)&&(s&&t.some(y)&&(e=Vt(e,s)),m=Yn(m,e))}n.dirs&&(m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),g=m}catch(v){Un.length=0,st(v,e,1),g=qn(Rn)}return Ft(m),g}function Ut(e){let t;for(let n=0;n<e.length;n++){const o=e[n];if(!Gn(o))return;if(o.type!==Rn||"v-if"===o.children){if(t)return;t=o}}return t}const Dt=e=>{let t;for(const n in e)("class"===n||"style"===n||g(n))&&((t||(t={}))[n]=e[n]);return t},Vt=(e,t)=>{const n={};for(const o in e)y(o)&&o.slice(9)in t||(n[o]=e[o]);return n};function Bt(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(t[i]!==e[i]&&!Pt(n,i))return!0}return!1}function $t(e){if(C(e)&&(e=e()),E(e)){e=Ut(e)}return Xn(e)}function Gt(e,t,n,o=!1){const r={},i={};G(i,Jn,1),e.propsDefaults=Object.create(null),zt(e,t,r,i),n?e.props=o?r:Ze(r,!1,me,Ue,Be):e.type.props?e.props=r:e.props=i,e.attrs=i}function zt(e,t,n,o){const[r,i]=e.propsOptions;if(t)for(const s in t){const i=t[s];if(k(s))continue;let a;r&&b(r,a=R(s))?n[a]=i:Pt(e.emitsOptions,s)||(o[s]=i)}if(i){const t=Ke(n);for(let o=0;o<i.length;o++){const s=i[o];n[s]=Jt(r,t,s,t[s],e)}}}function Jt(e,t,n,o,r){const i=e[n];if(null!=i){const e=b(i,"default");if(e&&void 0===o){const e=i.default;if(i.type!==Function&&C(e)){const{propsDefaults:i}=r;n in i?o=i[n]:(vo(r),o=i[n]=e(t),vo(null))}else o=e}i[0]&&(b(t,n)||e?!i[1]||""!==o&&o!==U(n)||(o=!0):o=!1)}return o}function Wt(e,t,n=!1){if(!t.deopt&&e.__props)return e.__props;const o=e.props,r={},i=[];let s=!1;if(!C(e)){const o=e=>{s=!0;const[n,o]=Wt(e,t,!0);m(r,n),o&&i.push(...o)};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!o&&!s)return e.__props=f;if(E(o))for(let a=0;a<o.length;a++){const e=R(o[a]);Zt(e)&&(r[e]=l)}else if(o)for(const a in o){const e=R(a);if(Zt(e)){const t=o[a],n=r[e]=E(t)||C(t)?{type:t}:t;if(n){const t=Ht(Boolean,n.type),o=Ht(String,n.type);n[0]=t>-1,n[1]=o<0||t<o,(t>-1||b(n,"default"))&&i.push(e)}}}return e.__props=[r,i]}function Zt(e){return"$"!==e[0]}function qt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Yt(e,t){return qt(e)===qt(t)}function Ht(e,t){return E(t)?t.findIndex((t=>Yt(t,e))):C(t)&&Yt(t,e)?0:-1}function Kt(e,t,n=mo,o=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;ne(),vo(n);const r=it(t,n,e,o);return vo(null),oe(),r});return o?r.unshift(i):r.push(i),i}}const Xt=e=>(t,n=mo)=>!bo&&Kt(e,t,n),Qt=Xt("bm"),en=Xt("m"),tn=Xt("bu"),nn=Xt("u"),on=Xt("bum"),rn=Xt("um"),sn=Xt("rtg"),an=Xt("rtc"),cn={};function un(e,t,n){return ln(e,t,n)}function ln(e,t,{immediate:n,deep:o,flush:r,onTrack:i,onTrigger:s}=l,a=mo){let c,u,f=!1;if(Xe(e)?(c=()=>e.value,f=!!e._shallow):qe(e)?(c=()=>e,o=!0):c=E(e)?()=>e.map((e=>Xe(e)?e.value:qe(e)?pn(e):C(e)?rt(e,a,2,[a&&a.proxy]):void 0)):C(e)?t?()=>rt(e,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return u&&u(),it(e,a,3,[d])}:p,t&&o){const e=c;c=()=>pn(e())}let d=e=>{u=m.options.onStop=()=>{rt(e,a,4)}},h=E(e)?[]:cn;const g=()=>{if(m.active)if(t){const e=m();(o||f||B(e,h))&&(u&&u(),it(t,a,3,[e,h===cn?void 0:h,d]),h=e)}else m()};let y;g.allowRecurse=!!t,y="sync"===r?g:"post"===r?()=>Tn(g,a&&a.suspense):()=>{!a||a.isMounted?function(e){St(e,pt,ft,dt)}(g):g()};const m=H(c,{lazy:!0,onTrack:i,onTrigger:s,scheduler:y});return So(m,a),t?n?g():h=m():"post"===r?Tn(m,a&&a.suspense):m(),()=>{K(m),a&&v(a.effects,m)}}function fn(e,t,n){const o=this.proxy;return ln(O(e)?()=>o[e]:e.bind(o),t.bind(o),n,this)}function pn(e,t=new Set){if(!I(e)||t.has(e))return e;if(t.add(e),Xe(e))pn(e.value,t);else if(E(e))for(let n=0;n<e.length;n++)pn(e[n],t);else if(S(e)||x(e))e.forEach((e=>{pn(e,t)}));else for(const n in e)pn(e[n],t);return e}const dn=e=>e.type.__isKeepAlive;function hn(e,t,n=mo){const o=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(Kt(t,o,n),n){let e=n.parent;for(;e&&e.parent;)dn(e.parent.vnode)&&gn(o,t,n,e),e=e.parent}}function gn(e,t,n,o){const r=Kt(t,e,o,!0);rn((()=>{v(o[t],r)}),n)}const yn=e=>"_"===e[0]||"$stable"===e,mn=e=>E(e)?e.map(Xn):[Xn(e)],vn=(e,t,n)=>Rt((e=>mn(t(e))),n),_n=(e,t)=>{const n=e._ctx;for(const o in e){if(yn(o))continue;const r=e[o];if(C(r))t[o]=vn(0,r,n);else if(null!=r){const e=mn(r);t[o]=()=>e}}},bn=(e,t)=>{const n=mn(t);e.slots.default=()=>n};function En(e,t,n,o){const r=e.dirs,i=t&&t.dirs;for(let s=0;s<r.length;s++){const a=r[s];i&&(a.oldValue=i[s].value);const c=a.dir[o];c&&it(c,n,8,[e.el,a,e,t])}}function xn(){return{app:null,config:{isNativeTag:d,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:d,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Sn=0;function Cn(e,t){return function(n,o=null){null==o||I(o)||(o=null);const r=xn(),i=new Set;let s=!1;const a=r.app={_uid:Sn++,_component:n,_props:o,_container:null,_context:r,version:Io,get config(){return r.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&C(e.install)?(i.add(e),e.install(a,...t)):C(e)&&(i.add(e),e(a,...t))),a),mixin:e=>(r.mixins.includes(e)||(r.mixins.push(e),(e.props||e.emits)&&(r.deopt=!0)),a),component:(e,t)=>t?(r.components[e]=t,a):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,a):r.directives[e],mount(i,c,u){if(!s){const l=qn(n,o);return l.appContext=r,c&&t?t(l,i):e(l,i,u),s=!0,a._container=i,i.__vue_app__=a,l.component.proxy}},unmount(){s&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,a)};return a}}const On={scheduler:Et,allowRecurse:!0},Tn=function(e,t){t&&t.pendingBranch?E(e)?t.effects.push(...e):t.effects.push(e):St(e,gt,ht,yt)},In=(e,t,n,o)=>{if(E(e))return void e.forEach(((e,r)=>In(e,t&&(E(t)?t[r]:t),n,o)));let r;if(o){if(o.type.__asyncLoader)return;r=4&o.shapeFlag?o.component.exposed||o.component.proxy:o.el}else r=null;const{i:i,r:s}=e,a=t&&t.r,c=i.refs===l?i.refs={}:i.refs,u=i.setupState;if(null!=a&&a!==s&&(O(a)?(c[a]=null,b(u,a)&&(u[a]=null)):Xe(a)&&(a.value=null)),O(s)){const e=()=>{c[s]=r,b(u,s)&&(u[s]=r)};r?(e.id=-1,Tn(e,n)):e()}else if(Xe(s)){const e=()=>{s.value=r};r?(e.id=-1,Tn(e,n)):e()}else C(s)&&rt(s,i,12,[r,c])};function wn(e){return function(e,t){const{insert:n,remove:o,patchProp:r,forcePatchProp:i,createElement:s,createText:a,createComment:c,setText:u,setElementText:d,parentNode:h,nextSibling:g,setScopeId:y=p,cloneNode:v,insertStaticContent:_}=e,E=(e,t,n,o=null,r=null,i=null,s=!1,a=null,c=!1)=>{e&&!zn(e,t)&&(o=se(e),X(e,r,i,!0),e=null),-2===t.patchFlag&&(c=!1,t.dynamicChildren=null);const{type:u,ref:l,shapeFlag:f}=t;switch(u){case Fn:x(e,t,n,o);break;case Rn:S(e,t,n,o);break;case jn:null==e&&C(t,n,o,s);break;case An:j(e,t,n,o,r,i,s,a,c);break;default:1&f?I(e,t,n,o,r,i,s,a,c):6&f?D(e,t,n,o,r,i,s,a,c):(64&f||128&f)&&u.process(e,t,n,o,r,i,s,a,c,ce)}null!=l&&r&&In(l,e&&e.ref,i,t)},x=(e,t,o,r)=>{if(null==e)n(t.el=a(t.children),o,r);else{const n=t.el=e.el;t.children!==e.children&&u(n,t.children)}},S=(e,t,o,r)=>{null==e?n(t.el=c(t.children||""),o,r):t.el=e.el},C=(e,t,n,o)=>{[e.el,e.anchor]=_(e.children,t,n,o)},O=({el:e,anchor:t},o,r)=>{let i;for(;e&&e!==t;)i=g(e),n(e,o,r),e=i;n(t,o,r)},T=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=g(e),o(e),e=n;o(t)},I=(e,t,n,o,r,i,s,a,c)=>{s=s||"svg"===t.type,null==e?M(t,n,o,r,i,s,a,c):N(e,t,r,i,s,a,c)},M=(e,t,o,i,a,c,u,l)=>{let f,p;const{type:h,props:g,shapeFlag:y,transition:m,patchFlag:_,dirs:b}=e;if(e.el&&void 0!==v&&-1===_)f=e.el=v(e.el);else{if(f=e.el=s(e.type,c,g&&g.is,g),8&y?d(f,e.children):16&y&&L(e.children,f,null,i,a,c&&"foreignObject"!==h,u,l||!!e.dynamicChildren),b&&En(e,null,i,"created"),g){for(const t in g)k(t)||r(f,t,null,g[t],c,e.children,i,a,re);(p=g.onVnodeBeforeMount)&&Mn(p,i,e)}P(f,e,e.scopeId,u,i)}b&&En(e,null,i,"beforeMount");const E=(!a||a&&!a.pendingBranch)&&m&&!m.persisted;E&&m.beforeEnter(f),n(f,t,o),((p=g&&g.onVnodeMounted)||E||b)&&Tn((()=>{p&&Mn(p,i,e),E&&m.enter(f),b&&En(e,null,i,"mounted")}),a)},P=(e,t,n,o,r)=>{if(n&&y(e,n),o)for(let i=0;i<o.length;i++)y(e,o[i]);if(r){if(t===r.subTree){const t=r.vnode;P(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},L=(e,t,n,o,r,i,s,a,c=0)=>{for(let u=c;u<e.length;u++){const c=e[u]=s?Qn(e[u]):Xn(e[u]);E(null,c,t,n,o,r,i,s,a)}},N=(e,t,n,o,s,a,c)=>{const u=t.el=e.el;let{patchFlag:f,dynamicChildren:p,dirs:h}=t;f|=16&e.patchFlag;const g=e.props||l,y=t.props||l;let m;if((m=y.onVnodeBeforeUpdate)&&Mn(m,n,t,e),h&&En(t,e,n,"beforeUpdate"),f>0){if(16&f)F(u,t,g,y,n,o,s);else if(2&f&&g.class!==y.class&&r(u,"class",null,y.class,s),4&f&&r(u,"style",g.style,y.style,s),8&f){const a=t.dynamicProps;for(let t=0;t<a.length;t++){const c=a[t],l=g[c],f=y[c];(f!==l||i&&i(u,c))&&r(u,c,l,f,s,e.children,n,o,re)}}1&f&&e.children!==t.children&&d(u,t.children)}else c||null!=p||F(u,t,g,y,n,o,s);const v=s&&"foreignObject"!==t.type;p?A(e.dynamicChildren,p,u,n,o,v,a):c||W(e,t,u,null,n,o,v,a,!1),((m=y.onVnodeUpdated)||h)&&Tn((()=>{m&&Mn(m,n,t,e),h&&En(t,e,n,"updated")}),o)},A=(e,t,n,o,r,i,s)=>{for(let a=0;a<t.length;a++){const c=e[a],u=t[a],l=c.type===An||!zn(c,u)||6&c.shapeFlag||64&c.shapeFlag?h(c.el):n;E(c,u,l,null,o,r,i,s,!0)}},F=(e,t,n,o,s,a,c)=>{if(n!==o){for(const u in o){if(k(u))continue;const l=o[u],f=n[u];(l!==f||i&&i(e,u))&&r(e,u,f,l,c,t.children,s,a,re)}if(n!==l)for(const i in n)k(i)||i in o||r(e,i,n[i],null,c,t.children,s,a,re)}},j=(e,t,o,r,i,s,c,u,l)=>{const f=t.el=e?e.el:a(""),p=t.anchor=e?e.anchor:a("");let{patchFlag:d,dynamicChildren:h,slotScopeIds:g}=t;d>0&&(l=!0),g&&(u=u?u.concat(g):g),null==e?(n(f,o,r),n(p,o,r),L(t.children,o,p,i,s,c,u,l)):d>0&&64&d&&h&&e.dynamicChildren?(A(e.dynamicChildren,h,o,i,s,c,u),(null!=t.key||i&&t===i.subTree)&&Pn(e,t,!0)):W(e,t,o,p,i,s,c,u,l)},D=(e,t,n,o,r,i,s,a,c)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,o,s,c):V(t,n,o,r,i,s,c):B(e,t,c)},V=(e,t,n,o,r,i,s)=>{const a=e.component=function(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||go,i={uid:yo++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wt(o,r),emitsOptions:Mt(o,r),emit:null,emitted:null,propsDefaults:l,ctx:l,data:l,props:l,attrs:l,slots:l,refs:l,setupState:l,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=wt.bind(null,i),i}(e,o,r);if(dn(e)&&(a.ctx.renderer=ce),function(e,t=!1){bo=t;const{props:n,children:o}=e.vnode,r=_o(e);Gt(e,n,r,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=t,G(t,"_",n)):_n(t,e.slots={})}else e.slots={},t&&bn(e,t);G(e.slots,Jn,1)})(e,o);const i=r?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,po);const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?function(e){const t=t=>{e.exposed=et(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}(e):null;mo=e,ne();const r=rt(o,e,0,[e.props,n]);if(oe(),mo=null,w(r)){if(t)return r.then((t=>{Eo(e,t)})).catch((t=>{st(t,e,0)}));e.asyncDep=r}else Eo(e,r)}else xo(e)}(e,t):void 0;bo=!1}(a),a.asyncDep){if(r&&r.registerDep(a,z),!e.el){const e=a.subTree=qn(Rn);S(null,e,t,n)}}else z(a,e,t,n,r,i,s)},B=(e,t,n)=>{const o=t.component=e.component;if(function(e,t,n){const{props:o,children:r,component:i}=e,{props:s,children:a,patchFlag:c}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!r&&!a||a&&a.$stable)||o!==s&&(o?!s||Bt(o,s,u):!!s);if(1024&c)return!0;if(16&c)return o?Bt(o,s,u):!!s;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==o[n]&&!Pt(u,n))return!0}}return!1}(e,t,n)){if(o.asyncDep&&!o.asyncResolved)return void J(o,t,n);o.next=t,function(e){const t=ut.indexOf(e);t>lt&&ut.splice(t,1)}(o.update),o.update()}else t.component=e.component,t.el=e.el,o.vnode=t},z=(e,t,n,o,r,i,s)=>{e.update=H((function(){if(e.isMounted){let t,{next:n,bu:o,u:a,parent:c,vnode:u}=e,l=n;n?(n.el=u.el,J(e,n,s)):n=u,o&&$(o),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Mn(t,c,n,u);const f=jt(e),p=e.subTree;e.subTree=f,E(p,f,h(p.el),se(p),e,r,i),n.el=f.el,null===l&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,f.el),a&&Tn(a,r),(t=n.props&&n.props.onVnodeUpdated)&&Tn((()=>{Mn(t,c,n,u)}),r)}else{let s;const{el:a,props:c}=t,{bm:u,m:l,parent:f}=e;u&&$(u),(s=c&&c.onVnodeBeforeMount)&&Mn(s,f,t);const p=e.subTree=jt(e);if(a&&le?le(t.el,p,e,r,null):(E(null,p,n,o,e,r,i),t.el=p.el),l&&Tn(l,r),s=c&&c.onVnodeMounted){const e=t;Tn((()=>{Mn(s,f,e)}),r)}const{a:d}=e;d&&256&t.shapeFlag&&Tn(d,r),e.isMounted=!0,t=n=o=null}}),On)},J=(e,t,n)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=e,a=Ke(r),[c]=e.propsOptions;if(!(o||s>0)||16&s){let o;zt(e,t,r,i);for(const i in a)t&&(b(t,i)||(o=U(i))!==i&&b(t,o))||(c?!n||void 0===n[i]&&void 0===n[o]||(r[i]=Jt(c,t||l,i,void 0,e)):delete r[i]);if(i!==a)for(const e in i)t&&b(t,e)||delete i[e]}else if(8&s){const n=e.vnode.dynamicProps;for(let o=0;o<n.length;o++){const s=n[o],u=t[s];if(c)if(b(i,s))i[s]=u;else{const t=R(s);r[t]=Jt(c,a,t,u,e)}else i[s]=u}}ie(e,"set","$attrs")}(e,t.props,o,n),((e,t,n)=>{const{vnode:o,slots:r}=e;let i=!0,s=l;if(32&o.shapeFlag){const e=t._;e?n&&1===e?i=!1:(m(r,t),n||1!==e||delete r._):(i=!t.$stable,_n(t,r)),s=t}else t&&(bn(e,t),s={default:1});if(i)for(const a in r)yn(a)||a in s||delete r[a]})(e,t.children,n),ne(),Ct(void 0,e.update),oe()},W=(e,t,n,o,r,i,s,a,c=!1)=>{const u=e&&e.children,l=e?e.shapeFlag:0,f=t.children,{patchFlag:p,shapeFlag:h}=t;if(p>0){if(128&p)return void q(u,f,n,o,r,i,s,a,c);if(256&p)return void Z(u,f,n,o,r,i,s,a,c)}8&h?(16&l&&re(u,r,i),f!==u&&d(n,f)):16&l?16&h?q(u,f,n,o,r,i,s,a,c):re(u,r,i,!0):(8&l&&d(n,""),16&h&&L(f,n,o,r,i,s,a,c))},Z=(e,t,n,o,r,i,s,a,c)=>{t=t||f;const u=(e=e||f).length,l=t.length,p=Math.min(u,l);let d;for(d=0;d<p;d++){const o=t[d]=c?Qn(t[d]):Xn(t[d]);E(e[d],o,n,null,r,i,s,a,c)}u>l?re(e,r,i,!0,!1,p):L(t,n,o,r,i,s,a,c,p)},q=(e,t,n,o,r,i,s,a,c)=>{let u=0;const l=t.length;let p=e.length-1,d=l-1;for(;u<=p&&u<=d;){const o=e[u],l=t[u]=c?Qn(t[u]):Xn(t[u]);if(!zn(o,l))break;E(o,l,n,null,r,i,s,a,c),u++}for(;u<=p&&u<=d;){const o=e[p],u=t[d]=c?Qn(t[d]):Xn(t[d]);if(!zn(o,u))break;E(o,u,n,null,r,i,s,a,c),p--,d--}if(u>p){if(u<=d){const e=d+1,f=e<l?t[e].el:o;for(;u<=d;)E(null,t[u]=c?Qn(t[u]):Xn(t[u]),n,f,r,i,s,a,c),u++}}else if(u>d)for(;u<=p;)X(e[u],r,i,!0),u++;else{const h=u,g=u,y=new Map;for(u=g;u<=d;u++){const e=t[u]=c?Qn(t[u]):Xn(t[u]);null!=e.key&&y.set(e.key,u)}let m,v=0;const _=d-g+1;let b=!1,x=0;const S=new Array(_);for(u=0;u<_;u++)S[u]=0;for(u=h;u<=p;u++){const o=e[u];if(v>=_){X(o,r,i,!0);continue}let l;if(null!=o.key)l=y.get(o.key);else for(m=g;m<=d;m++)if(0===S[m-g]&&zn(o,t[m])){l=m;break}void 0===l?X(o,r,i,!0):(S[l-g]=u+1,l>=x?x=l:b=!0,E(o,t[l],n,null,r,i,s,a,c),v++)}const C=b?function(e){const t=e.slice(),n=[0];let o,r,i,s,a;const c=e.length;for(o=0;o<c;o++){const c=e[o];if(0!==c){if(r=n[n.length-1],e[r]<c){t[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)a=(i+s)/2|0,e[n[a]]<c?i=a+1:s=a;c<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}i=n.length,s=n[i-1];for(;i-- >0;)n[i]=s,s=t[s];return n}(S):f;for(m=C.length-1,u=_-1;u>=0;u--){const e=g+u,f=t[e],p=e+1<l?t[e+1].el:o;0===S[u]?E(null,f,n,p,r,i,s,a,c):b&&(m<0||u!==C[m]?Y(f,n,p,2):m--)}}},Y=(e,t,o,r,i=null)=>{const{el:s,type:a,transition:c,children:u,shapeFlag:l}=e;if(6&l)return void Y(e.component.subTree,t,o,r);if(128&l)return void e.suspense.move(t,o,r);if(64&l)return void a.move(e,t,o,ce);if(a===An){n(s,t,o);for(let e=0;e<u.length;e++)Y(u[e],t,o,r);return void n(e.anchor,t,o)}if(a===jn)return void O(e,t,o);if(2!==r&&1&l&&c)if(0===r)c.beforeEnter(s),n(s,t,o),Tn((()=>c.enter(s)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=c,a=()=>n(s,t,o),u=()=>{e(s,(()=>{a(),i&&i()}))};r?r(s,a,u):u()}else n(s,t,o)},X=(e,t,n,o=!1,r=!1)=>{const{type:i,props:s,ref:a,children:c,dynamicChildren:u,shapeFlag:l,patchFlag:f,dirs:p}=e;if(null!=a&&In(a,null,n,null),256&l)return void t.ctx.deactivate(e);const d=1&l&&p;let h;if((h=s&&s.onVnodeBeforeUnmount)&&Mn(h,t,e),6&l)te(e.component,n,o);else{if(128&l)return void e.suspense.unmount(n,o);d&&En(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,r,ce,o):u&&(i!==An||f>0&&64&f)?re(u,t,n,!1,!0):(i===An&&(128&f||256&f)||!r&&16&l)&&re(c,t,n),o&&Q(e)}((h=s&&s.onVnodeUnmounted)||d)&&Tn((()=>{h&&Mn(h,t,e),d&&En(e,null,t,"unmounted")}),n)},Q=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===An)return void ee(n,r);if(t===jn)return void T(e);const s=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:o}=i,r=()=>t(n,s);o?o(e.el,s,r):r()}else s()},ee=(e,t)=>{let n;for(;e!==t;)n=g(e),o(e),e=n;o(t)},te=(e,t,n)=>{const{bum:o,effects:r,update:i,subTree:s,um:a}=e;if(o&&$(o),r)for(let c=0;c<r.length;c++)K(r[c]);i&&(K(i),X(s,e,t,n)),a&&Tn(a,t),Tn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},re=(e,t,n,o=!1,r=!1,i=0)=>{for(let s=i;s<e.length;s++)X(e[s],t,n,o,r)},se=e=>6&e.shapeFlag?se(e.component.subTree):128&e.shapeFlag?e.suspense.next():g(e.anchor||e.el),ae=(e,t,n)=>{null==e?t._vnode&&X(t._vnode,null,null,!0):E(t._vnode||null,e,t,null,null,null,n),Ot(),t._vnode=e},ce={p:E,um:X,m:Y,r:Q,mt:V,mc:L,pc:W,pbc:A,n:se,o:e};let ue,le;t&&([ue,le]=t(ce));return{render:ae,hydrate:ue,createApp:Cn(ae,ue)}}(e)}function Mn(e,t,n,o=null){it(e,t,7,[n,o])}function Pn(e,t,n=!1){const o=e.children,r=t.children;if(E(o)&&E(r))for(let i=0;i<o.length;i++){const e=o[i];let t=r[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=r[i]=Qn(r[i]),t.el=e.el),n||Pn(e,t))}}function Ln(e,t){return function(e,t,n=!0,o=!1){const r=kt||mo;if(r){const n=r.type;if("components"===e){const e=Co(n);if(e&&(e===t||e===R(t)||e===D(R(t))))return n}const i=kn(r[e]||n[e],t)||kn(r.appContext[e],t);return!i&&o?n:i}}("components",e,!0,t)||e}const Nn=Symbol();function kn(e,t){return e&&(e[t]||e[R(t)]||e[D(R(t))])}const An=Symbol(void 0),Fn=Symbol(void 0),Rn=Symbol(void 0),jn=Symbol(void 0),Un=[];let Dn=null;function Vn(e=!1){Un.push(Dn=e?null:[])}function Bn(){Un.pop(),Dn=Un[Un.length-1]||null}function $n(e,t,n,o,r){const i=qn(e,t,n,o,r,!0);return i.dynamicChildren=Dn||f,Bn(),Dn&&Dn.push(i),i}function Gn(e){return!!e&&!0===e.__v_isVNode}function zn(e,t){return e.type===t.type&&e.key===t.key}const Jn="__vInternal",Wn=({key:e})=>null!=e?e:null,Zn=({ref:e})=>null!=e?O(e)||Xe(e)||C(e)?{i:kt,r:e}:e:null,qn=function(e,t=null,n=null,r=0,i=null,s=!1){e&&e!==Nn||(e=Rn);if(Gn(e)){const o=Yn(e,t,!0);return n&&eo(o,n),o}c=e,C(c)&&"__vccOpts"in c&&(e=e.__vccOpts);var c;if(t){(He(t)||Jn in t)&&(t=m({},t));let{class:e,style:n}=t;e&&!O(e)&&(t.class=a(e)),I(n)&&(He(n)&&!E(n)&&(n=m({},n)),t.style=o(n))}const u=O(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:I(e)?4:C(e)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wn(t),ref:t&&Zn(t),scopeId:At,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};if(eo(l,n),128&u){const{content:e,fallback:t}=function(e){const{shapeFlag:t,children:n}=e;let o,r;return 32&t?(o=$t(n.default),r=$t(n.fallback)):(o=$t(n),r=Xn(null)),{content:o,fallback:r}}(l);l.ssContent=e,l.ssFallback=t}!s&&Dn&&(r>0||6&u)&&32!==r&&Dn.push(l);return l};function Yn(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:c}=e,u=t?function(...e){const t=m({},e[0]);for(let n=1;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=a([t.class,r.class]));else if("style"===e)t.style=o([t.style,r.style]);else if(g(e)){const n=t[e],o=r[e];n!==o&&(t[e]=n?[].concat(n,r[e]):o)}else""!==e&&(t[e]=r[e])}return t}(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Wn(u),ref:t&&t.ref?n&&i?E(i)?i.concat(Zn(t)):[i,Zn(t)]:Zn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==An?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yn(e.ssContent),ssFallback:e.ssFallback&&Yn(e.ssFallback),el:e.el,anchor:e.anchor}}function Hn(e=" ",t=0){return qn(Fn,null,e,t)}function Kn(e="",t=!1){return t?(Vn(),$n(Rn,null,e)):qn(Rn,null,e)}function Xn(e){return null==e||"boolean"==typeof e?qn(Rn):E(e)?qn(An,null,e):"object"==typeof e?null===e.el?e:Yn(e):qn(Fn,null,String(e))}function Qn(e){return null===e.el?e:Yn(e)}function eo(e,t){let n=0;const{shapeFlag:o}=e;if(null==t)t=null;else if(E(t))n=16;else if("object"==typeof t){if(1&o||64&o){const n=t.default;return void(n&&(n._c&&Nt(1),eo(e,n()),n._c&&Nt(-1)))}{n=32;const o=t._;o||Jn in t?3===o&&kt&&(1024&kt.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=kt}}else C(t)?(t={default:t,_ctx:kt},n=32):(t=String(t),64&o?(n=16,t=[Hn(t)]):n=8);e.children=t,e.shapeFlag|=n}function to(e,t,n=!1){const o=mo||kt;if(o){const r=null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&C(t)?t():t}}let no=!0;function oo(e,t,n=[],o=[],r=[],i=!1){const{mixins:s,extends:a,data:c,computed:u,methods:f,watch:d,provide:h,inject:g,components:y,directives:v,beforeMount:_,mounted:b,beforeUpdate:x,updated:S,activated:O,deactivated:T,beforeDestroy:w,beforeUnmount:M,destroyed:P,unmounted:L,render:N,renderTracked:k,renderTriggered:A,errorCaptured:F,expose:R}=t,j=e.proxy,U=e.ctx,D=e.appContext.mixins;if(i&&N&&e.render===p&&(e.render=N),i||(no=!1,ro("beforeCreate","bc",t,e,D),no=!0,so(e,D,n,o,r)),a&&oo(e,a,n,o,r,!0),s&&so(e,s,n,o,r),g)if(E(g))for(let l=0;l<g.length;l++){const e=g[l];U[e]=to(e)}else for(const l in g){const e=g[l];I(e)?U[l]=to(e.from||l,e.default,!0):U[l]=to(e)}if(f)for(const l in f){const e=f[l];C(e)&&(U[l]=e.bind(j))}if(i?c&&n.push(c):(n.length&&n.forEach((t=>ao(e,t,j))),c&&ao(e,c,j)),u)for(const l in u){const e=u[l],t=Oo({get:C(e)?e.bind(j,j):C(e.get)?e.get.bind(j,j):p,set:!C(e)&&C(e.set)?e.set.bind(j):p});Object.defineProperty(U,l,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e})}var V;if(d&&o.push(d),!i&&o.length&&o.forEach((e=>{for(const t in e)co(e[t],U,j,t)})),h&&r.push(h),!i&&r.length&&r.forEach((e=>{const t=C(e)?e.call(j):e;Reflect.ownKeys(t).forEach((e=>{!function(e,t){if(mo){let n=mo.provides;const o=mo.parent&&mo.parent.provides;o===n&&(n=mo.provides=Object.create(o)),n[e]=t}}(e,t[e])}))})),i&&(y&&m(e.components||(e.components=m({},e.type.components)),y),v&&m(e.directives||(e.directives=m({},e.type.directives)),v)),i||ro("created","c",t,e,D),_&&Qt(_.bind(j)),b&&en(b.bind(j)),x&&tn(x.bind(j)),S&&nn(S.bind(j)),O&&hn(O.bind(j),"a",V),T&&function(e,t){hn(e,"da",t)}(T.bind(j)),F&&((e,t=mo)=>{Kt("ec",e,t)})(F.bind(j)),k&&an(k.bind(j)),A&&sn(A.bind(j)),M&&on(M.bind(j)),L&&rn(L.bind(j)),E(R)&&!i)if(R.length){const t=e.exposed||(e.exposed=et({}));R.forEach((e=>{t[e]=nt(j,e)}))}else e.exposed||(e.exposed=l)}function ro(e,t,n,o,r){for(let i=0;i<r.length;i++)io(e,t,r[i],o);io(e,t,n,o)}function io(e,t,n,o){const{extends:r,mixins:i}=n,s=n[e];if(r&&io(e,t,r,o),i)for(let a=0;a<i.length;a++)io(e,t,i[a],o);s&&it(s.bind(o.proxy),o,t)}function so(e,t,n,o,r){for(let i=0;i<t.length;i++)oo(e,t[i],n,o,r,!0)}function ao(e,t,n){no=!1;const o=t.call(n,n);no=!0,I(o)&&(e.data===l?e.data=Je(o):m(e.data,o))}function co(e,t,n,o){const r=o.includes(".")?function(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}(n,o):()=>n[o];if(O(e)){const n=t[e];C(n)&&un(r,n)}else if(C(e))un(r,e.bind(n));else if(I(e))if(E(e))e.forEach((e=>co(e,t,n,o)));else{const o=C(e.handler)?e.handler.bind(n):t[e.handler];C(o)&&un(r,o,e)}}function uo(e,t,n){const o=n.appContext.config.optionMergeStrategies,{mixins:r,extends:i}=t;i&&uo(e,i,n),r&&r.forEach((t=>uo(e,t,n)));for(const s in t)o&&b(o,s)?e[s]=o[s](e[s],t[s],n.proxy,s):e[s]=t[s]}const lo=e=>e?_o(e)?e.exposed?e.exposed:e.proxy:lo(e.parent):null,fo=m(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lo(e.parent),$root:e=>lo(e.root),$emit:e=>e.emit,$options:e=>function(e){const t=e.type,{__merged:n,mixins:o,extends:r}=t;if(n)return n;const i=e.appContext.mixins;if(!i.length&&!o&&!r)return t;const s={};return i.forEach((t=>uo(s,t,e))),uo(s,t,e),t.__merged=s}(e),$forceUpdate:e=>()=>Et(e.update),$nextTick:e=>bt.bind(e.proxy),$watch:e=>fn.bind(e)}),po={get({_:e},t){const{ctx:n,setupState:o,data:r,props:i,accessCache:s,type:a,appContext:c}=e;if("__v_skip"===t)return!0;let u;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 0:return o[t];case 1:return r[t];case 3:return n[t];case 2:return i[t]}else{if(o!==l&&b(o,t))return s[t]=0,o[t];if(r!==l&&b(r,t))return s[t]=1,r[t];if((u=e.propsOptions[0])&&b(u,t))return s[t]=2,i[t];if(n!==l&&b(n,t))return s[t]=3,n[t];no&&(s[t]=4)}}const f=fo[t];let p,d;return f?("$attrs"===t&&re(e,0,t),f(e)):(p=a.__cssModules)&&(p=p[t])?p:n!==l&&b(n,t)?(s[t]=3,n[t]):(d=c.config.globalProperties,b(d,t)?d[t]:void 0)},set({_:e},t,n){const{data:o,setupState:r,ctx:i}=e;if(r!==l&&b(r,t))r[t]=n;else if(o!==l&&b(o,t))o[t]=n;else if(b(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:i}},s){let a;return void 0!==n[s]||e!==l&&b(e,s)||t!==l&&b(t,s)||(a=i[0])&&b(a,s)||b(o,s)||b(fo,s)||b(r.config.globalProperties,s)}},ho=m({},po,{get(e,t){if(t!==Symbol.unscopables)return po.get(e,t,e)},has:(e,n)=>"_"!==n[0]&&!t(n)}),go=xn();let yo=0;let mo=null;const vo=e=>{mo=e};function _o(e){return 4&e.vnode.shapeFlag}let bo=!1;function Eo(e,t,n){C(t)?e.render=t:I(t)&&(e.setupState=et(t)),xo(e)}function xo(e,t){const n=e.type;e.render||(e.render=n.render||p,e.render._rc&&(e.withProxy=new Proxy(e.ctx,ho))),mo=e,ne(),oo(e,n),oe(),mo=null}function So(e,t=mo){t&&(t.effects||(t.effects=[])).push(e)}function Co(e){return C(e)&&e.displayName||e.name}function Oo(e){const t=function(e){let t,n;return C(e)?(t=e,n=p):(t=e.get,n=e.set),new ot(t,n,C(e)||!e.set)}(e);return So(t.effect),t}function To(e,t,n){const o=arguments.length;return 2===o?I(t)&&!E(t)?Gn(t)?qn(e,null,[t]):qn(e,t):qn(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):3===o&&Gn(n)&&(n=[n]),qn(e,t,n))}const Io="3.0.11",wo="http://www.w3.org/2000/svg",Mo="undefined"!=typeof document?document:null;let Po,Lo;const No={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t?Mo.createElementNS(wo,e):Mo.createElement(e,n?{is:n}:void 0);return"select"===e&&o&&null!=o.multiple&&r.setAttribute("multiple",o.multiple),r},createText:e=>Mo.createTextNode(e),createComment:e=>Mo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Mo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,o){const r=o?Lo||(Lo=Mo.createElementNS(wo,"svg")):Po||(Po=Mo.createElement("div"));r.innerHTML=e;const i=r.firstChild;let s=i,a=s;for(;s;)a=s,No.insert(s,t,n),s=r.firstChild;return[i,a]}};const ko=/\s*!important$/;function Ao(e,t,n){if(E(n))n.forEach((n=>Ao(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const o=function(e,t){const n=Ro[t];if(n)return n;let o=R(t);if("filter"!==o&&o in e)return Ro[t]=o;o=D(o);for(let r=0;r<Fo.length;r++){const n=Fo[r]+o;if(n in e)return Ro[t]=n}return t}(e,t);ko.test(n)?e.setProperty(U(o),n.replace(ko,""),"important"):e[o]=n}}const Fo=["Webkit","Moz","ms"],Ro={};const jo="http://www.w3.org/1999/xlink";let Uo=Date.now,Do=!1;if("undefined"!=typeof window){Uo()>document.createEvent("Event").timeStamp&&(Uo=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Do=!!(e&&Number(e[1])<=53)}let Vo=0;const Bo=Promise.resolve(),$o=()=>{Vo=0};function Go(e,t,n,o,r=null){const i=e._vei||(e._vei={}),s=i[t];if(o&&s)s.value=o;else{const[n,a]=function(e){let t;if(zo.test(e)){let n;for(t={};n=e.match(zo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[U(e.slice(2)),t]}(t);if(o){!function(e,t,n,o){e.addEventListener(t,n,o)}(e,n,i[t]=function(e,t){const n=e=>{const o=e.timeStamp||Uo();(Do||o>=n.attached-1)&&it(function(e,t){if(E(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>Vo||(Bo.then($o),Vo=Uo()))(),n}(o,r),a)}else s&&(!function(e,t,n,o){e.removeEventListener(t,n,o)}(e,n,s,a),i[t]=void 0)}}const zo=/(?:Once|Passive|Capture)$/;const Jo=/^on[a-z]/;const Wo=m({patchProp:(e,t,o,r,i=!1,s,a,c,u)=>{switch(t){case"class":!function(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}(e,r,i);break;case"style":!function(e,t,n){const o=e.style;if(n)if(O(n)){if(t!==n){const t=o.display;o.cssText=n,"_vod"in e&&(o.display=t)}}else{for(const e in n)Ao(o,e,n[e]);if(t&&!O(t))for(const e in t)null==n[e]&&Ao(o,e,"")}else e.removeAttribute("style")}(e,o,r);break;default:g(t)?y(t)||Go(e,t,0,r,a):function(e,t,n,o){if(o)return"innerHTML"===t||!!(t in e&&Jo.test(t)&&C(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(Jo.test(t)&&O(n))return!1;return t in e}(e,t,r,i)?function(e,t,n,o,r,i,s){if("innerHTML"===t||"textContent"===t)return o&&s(o,r,i),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const o=typeof e[t];if(""===n&&"boolean"===o)return void(e[t]=!0);if(null==n&&"string"===o)return e[t]="",void e.removeAttribute(t);if("number"===o)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(a){}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}(e,t,r,s,a,c,u):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,o,r){if(r&&t.startsWith("xlink:"))null==o?e.removeAttributeNS(jo,t.slice(6,t.length)):e.setAttributeNS(jo,t,o);else{const r=n(t);null==o||r&&!1===o?e.removeAttribute(t):e.setAttribute(t,r?"":o)}}(e,t,r,i))}},forcePatchProp:(e,t)=>"value"===t},No);let Zo;const qo=(...e)=>{const t=(Zo||(Zo=wn(Wo))).createApp(...e),{mount:n}=t;return t.mount=e=>{const o=function(e){if(O(e)){return document.querySelector(e)}return e}(e);if(!o)return;const r=t._component;C(r)||r.render||r.template||(r.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};var Yo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ho(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ko(e){var t={exports:{}};return e(t,t.exports),t.exports}const Xo="add",Qo="pointer",er="line_string",tr="Feature",nr="LineString",or="Point",rr="simple_select",ir="draw.create",sr="feature",ar="vertex",cr="true",ur="false";function lr(e){const t=e.featureTarget;return!!t&&(!!t.properties&&t.properties.meta===ar)}function fr(e,t){return!!e.lngLat&&(e.lngLat.lng===t[0]&&e.lngLat.lat===t[1])}var pr={enable(e){setTimeout((()=>{e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},disable(e){setTimeout((()=>{e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)}};const dr={onSetup:function(e){const t=(e=e||{}).featureId;let n,o,r="forward";if(t){if(n=this.getFeature(t),!n)throw new Error("Could not find a feature with the provided featureId");let i=e.from;if(i&&"Feature"===i.type&&i.geometry&&"Point"===i.geometry.type&&(i=i.geometry),i&&"Point"===i.type&&i.coordinates&&2===i.coordinates.length&&(i=i.coordinates),!i||!Array.isArray(i))throw new Error("Please use the `from` property to indicate which point to continue the line from");const s=n.coordinates.length-1;if(n.coordinates[s][0]===i[0]&&n.coordinates[s][1]===i[1])o=s+1,n.addCoordinate(o,...n.coordinates[s]);else{if(n.coordinates[0][0]!==i[0]||n.coordinates[0][1]!==i[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");r="backwards",o=0,n.addCoordinate(o,...n.coordinates[0])}}else n=this.newFeature({type:tr,properties:{},geometry:{type:nr,coordinates:[]}}),o=0,this.addFeature(n);return this.clearSelectedFeatures(),pr.disable(this),this.updateUIClasses({mouse:Xo}),this.activateUIButton(er),this.setActionableState({trash:!0}),{line:n,currentVertexPosition:o,direction:r}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&fr(t,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&fr(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(rr,{featureIds:[e.line.id]});this.updateUIClasses({mouse:Xo}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(rr,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),lr(t)&&this.updateUIClasses({mouse:Qo})}};dr.onTap=dr.onClick=function(e,t){if(lr(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},dr.onKeyUp=function(e,t){!function(e){return 13===e.keyCode}(t)?function(e){return 27===e.keyCode}(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(rr)):this.changeMode(rr,{featureIds:[e.line.id]})},dr.onStop=function(e){pr.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate(`${e.currentVertexPosition}`),e.line.isValid()?this.map.fire(ir,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(rr,{},{silent:!0})))},dr.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(rr)},dr.toDisplayFeatures=function(e,t,n){const o=t.properties.id===e.line.id;if(t.properties.active=o?cr:ur,!o)return n(t);var r,i,s;t.geometry.coordinates.length<2||(t.properties.meta=sr,n((r=e.line.id,i=t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],s=""+("forward"===e.direction?t.geometry.coordinates.length-2:1),{type:tr,properties:{meta:ar,parent:r,coord_path:s,active:!1?cr:ur},geometry:{type:or,coordinates:i}})),n(t))};var hr=Ko((function(e,t){e.exports=function(){var e=function(e,t){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},o={on:function(e,t,o){if(void 0===n[e])throw new Error("Invalid event type: "+e);n[e].push({selector:t,fn:o})},render:function(e){t.store.featureChanged(e)}},r=function(e,r){for(var i=n[e],s=i.length;s--;){var a=i[s];if(a.selector(r)){a.fn.call(o,r)||t.store.render(),t.ui.updateMapClasses();break}}};return e.start.call(o),{render:e.render,stop:function(){e.stop&&e.stop()},trash:function(){e.trash&&(e.trash(),t.store.render())},combineFeatures:function(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures:function(){e.uncombineFeatures&&e.uncombineFeatures()},drag:function(e){r("drag",e)},click:function(e){r("click",e)},mousemove:function(e){r("mousemove",e)},mousedown:function(e){r("mousedown",e)},mouseup:function(e){r("mouseup",e)},mouseout:function(e){r("mouseout",e)},keydown:function(e){r("keydown",e)},keyup:function(e){r("keyup",e)},touchstart:function(e){r("touchstart",e)},touchmove:function(e){r("touchmove",e)},touchend:function(e){r("touchend",e)},tap:function(e){r("tap",e)}}},t={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function n(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(o(e[n]))}return t}function o(e){var n,o,i,s,a,c,u=0,l=e.length;if(l>2){for(c=0;c<l;c++)c===l-2?(i=l-2,s=l-1,a=0):c===l-1?(i=l-1,s=0,a=1):(i=c,s=c+1,a=c+2),n=e[i],o=e[s],u+=(r(e[a][0])-r(n[0]))*Math.sin(r(o[1]));u=u*t.RADIUS*t.RADIUS/2}return u}function r(e){return e*Math.PI/180}var i={geometry:function e(t){var o,r=0;switch(t.type){case"Polygon":return n(t.coordinates);case"MultiPolygon":for(o=0;o<t.coordinates.length;o++)r+=n(t.coordinates[o]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(o=0;o<t.geometries.length;o++)r+=e(t.geometries[o]);return r}},ring:o},s={CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},a={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},c={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},u={POLYGON:"polygon",LINE:"line_string",POINT:"point"},l={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},f={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},p={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},d="move",h="change_coordinates",g={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},y={ACTIVE:"true",INACTIVE:"false"},m=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],v=-85,_=85,b={Point:0,LineString:1,Polygon:2};function E(e,t){var n=b[e.geometry.type]-b[t.geometry.type];return 0===n&&e.geometry.type===l.POLYGON?e.area-t.area:n}function x(e){if(this._items={},this._nums={},this._length=e?e.length:0,e)for(var t=0,n=e.length;t<n;t++)this.add(e[t]),void 0!==e[t]&&("string"==typeof e[t]?this._items[e[t]]=t:this._nums[e[t]]=t)}x.prototype.add=function(e){return this.has(e)||(this._length++,"string"==typeof e?this._items[e]=this._length:this._nums[e]=this._length),this},x.prototype.delete=function(e){return!1===this.has(e)||(this._length--,delete this._items[e],delete this._nums[e]),this},x.prototype.has=function(e){return!("string"!=typeof e&&"number"!=typeof e||void 0===this._items[e]&&void 0===this._nums[e])},x.prototype.values=function(){var e=this,t=[];return Object.keys(this._items).forEach((function(n){t.push({k:n,v:e._items[n]})})),Object.keys(this._nums).forEach((function(n){t.push({k:JSON.parse(n),v:e._nums[n]})})),t.sort((function(e,t){return e.v-t.v})).map((function(e){return e.k}))},x.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var S=[g.FEATURE,g.MIDPOINT,g.VERTEX],C={click:function(e,t,n){return O(e,t,n,n.options.clickBuffer)},touch:function(e,t,n){return O(e,t,n,n.options.touchBuffer)}};function O(e,t,n,o){if(null===n.map)return[];var r,s,a=e?(void 0===(s=o)&&(s=0),[[(r=e).point.x-s,r.point.y-s],[r.point.x+s,r.point.y+s]]):t,c={};n.options.styles&&(c.layers=n.options.styles.map((function(e){return e.id})));var u=n.map.queryRenderedFeatures(a,c).filter((function(e){return-1!==S.indexOf(e.properties.meta)})),f=new x,p=[];return u.forEach((function(e){var t=e.properties.id;f.has(t)||(f.add(t),p.push(e))})),function(e){return e.map((function(e){return e.geometry.type===l.POLYGON&&(e.area=i.geometry({type:l.FEATURE,property:{},geometry:e.geometry})),e})).sort(E).map((function(e){return delete e.area,e}))}(p)}function T(e,t){var n=C.click(e,null,t),o={mouse:c.NONE};return n[0]&&(o.mouse=n[0].properties.active===y.ACTIVE?c.MOVE:c.POINTER,o.feature=n[0].properties.meta),-1!==t.events.currentModeName().indexOf("draw")&&(o.mouse=c.ADD),t.ui.queueMapClasses(o),t.ui.updateMapClasses(),n[0]}function I(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(n*n+o*o)}var w=4,M=12,P=500;function L(e,t,n){void 0===n&&(n={});var o=null!=n.fineTolerance?n.fineTolerance:w,r=null!=n.grossTolerance?n.grossTolerance:M,i=null!=n.interval?n.interval:P;e.point=e.point||t.point,e.time=e.time||t.time;var s=I(e.point,t.point);return s<o||s<r&&t.time-e.time<i}var N=25,k=250;function A(e,t,n){void 0===n&&(n={});var o=null!=n.tolerance?n.tolerance:N,r=null!=n.interval?n.interval:k;return e.point=e.point||t.point,e.time=e.time||t.time,I(e.point,t.point)<o&&t.time-e.time<r}function F(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function R(e,t){return e(t={exports:{}},t.exports),t.exports}var j=R((function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var o=Math.log(Math.pow(2,e))/Math.log(n),r=2;o===1/0;r*=2)o=Math.log(Math.pow(2,e/r))/Math.log(n)*r;var i=o-Math.floor(o),s="";for(r=0;r<Math.floor(o);r++)s=Math.floor(Math.random()*n).toString(n)+s;if(i){var a=Math.pow(n,i);s=Math.floor(Math.random()*a).toString(n)+s}var c=parseInt(s,n);return c!==1/0&&c>=Math.pow(2,e)?t(e,n):s};t.rack=function(e,n,o){var r=function(r){var s=0;do{if(s++>10){if(!o)throw new Error("too many ID collisions, use more bits");e+=o}var a=t(e,n)}while(Object.hasOwnProperty.call(i,a));return i[a]=r,a},i=r.hats={};return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=n||16,r}})),U=function(e,t){this.ctx=e,this.properties=t.properties||{},this.coordinates=t.geometry.coordinates,this.id=t.id||j(),this.type=t.geometry.type};U.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},U.prototype.incomingCoords=function(e){this.setCoordinates(e)},U.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},U.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},U.prototype.setProperty=function(e,t){this.properties[e]=t},U.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:l.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},U.prototype.internal=function(e){var t={id:this.id,meta:g.FEATURE,"meta:type":this.type,active:y.INACTIVE,mode:e};if(this.ctx.options.userProperties)for(var n in this.properties)t["user_"+n]=this.properties[n];return{type:l.FEATURE,properties:t,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var D=function(e,t){U.call(this,e,t)};(D.prototype=Object.create(U.prototype)).isValid=function(){return"number"==typeof this.coordinates[0]&&"number"==typeof this.coordinates[1]},D.prototype.updateCoordinate=function(e,t,n){this.coordinates=3===arguments.length?[t,n]:[e,t],this.changed()},D.prototype.getCoordinate=function(){return this.getCoordinates()};var V=function(e,t){U.call(this,e,t)};(V.prototype=Object.create(U.prototype)).isValid=function(){return this.coordinates.length>1},V.prototype.addCoordinate=function(e,t,n){this.changed();var o=parseInt(e,10);this.coordinates.splice(o,0,[t,n])},V.prototype.getCoordinate=function(e){var t=parseInt(e,10);return JSON.parse(JSON.stringify(this.coordinates[t]))},V.prototype.removeCoordinate=function(e){this.changed(),this.coordinates.splice(parseInt(e,10),1)},V.prototype.updateCoordinate=function(e,t,n){var o=parseInt(e,10);this.coordinates[o]=[t,n],this.changed()};var B=function(e,t){U.call(this,e,t),this.coordinates=this.coordinates.map((function(e){return e.slice(0,-1)}))};(B.prototype=Object.create(U.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every((function(e){return e.length>2}))},B.prototype.incomingCoords=function(e){this.coordinates=e.map((function(e){return e.slice(0,-1)})),this.changed()},B.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},B.prototype.addCoordinate=function(e,t,n){this.changed();var o=e.split(".").map((function(e){return parseInt(e,10)}));this.coordinates[o[0]].splice(o[1],0,[t,n])},B.prototype.removeCoordinate=function(e){this.changed();var t=e.split(".").map((function(e){return parseInt(e,10)})),n=this.coordinates[t[0]];n&&(n.splice(t[1],1),n.length<3&&this.coordinates.splice(t[0],1))},B.prototype.getCoordinate=function(e){var t=e.split(".").map((function(e){return parseInt(e,10)})),n=this.coordinates[t[0]];return JSON.parse(JSON.stringify(n[t[1]]))},B.prototype.getCoordinates=function(){return this.coordinates.map((function(e){return e.concat([e[0]])}))},B.prototype.updateCoordinate=function(e,t,n){this.changed();var o=e.split("."),r=parseInt(o[0],10),i=parseInt(o[1],10);void 0===this.coordinates[r]&&(this.coordinates[r]=[]),this.coordinates[r][i]=[t,n]};var $={MultiPoint:D,MultiLineString:V,MultiPolygon:B},G=function(e,t,n,o,r){var i=n.split("."),s=parseInt(i[0],10),a=i[1]?i.slice(1).join("."):null;return e[s][t](a,o,r)},z=function(e,t){if(U.call(this,e,t),delete this.coordinates,this.model=$[t.geometry.type],void 0===this.model)throw new TypeError(t.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(t.geometry.coordinates)};function J(e){this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e}(z.prototype=Object.create(U.prototype))._coordinatesToFeatures=function(e){var t=this,n=this.model.bind(this);return e.map((function(e){return new n(t.ctx,{id:j(),type:l.FEATURE,properties:{},geometry:{coordinates:e,type:t.type.replace("Multi","")}})}))},z.prototype.isValid=function(){return this.features.every((function(e){return e.isValid()}))},z.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()},z.prototype.getCoordinate=function(e){return G(this.features,"getCoordinate",e)},z.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((function(e){return e.type===l.POLYGON?e.getCoordinates():e.coordinates}))))},z.prototype.updateCoordinate=function(e,t,n){G(this.features,"updateCoordinate",e,t,n),this.changed()},z.prototype.addCoordinate=function(e,t,n){G(this.features,"addCoordinate",e,t,n),this.changed()},z.prototype.removeCoordinate=function(e){G(this.features,"removeCoordinate",e),this.changed()},z.prototype.getFeatures=function(){return this.features},J.prototype.setSelected=function(e){return this._ctx.store.setSelected(e)},J.prototype.setSelectedCoordinates=function(e){var t=this;this._ctx.store.setSelectedCoordinates(e),e.reduce((function(e,n){return void 0===e[n.feature_id]&&(e[n.feature_id]=!0,t._ctx.store.get(n.feature_id).changed()),e}),{})},J.prototype.getSelected=function(){return this._ctx.store.getSelected()},J.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},J.prototype.isSelected=function(e){return this._ctx.store.isSelected(e)},J.prototype.getFeature=function(e){return this._ctx.store.get(e)},J.prototype.select=function(e){return this._ctx.store.select(e)},J.prototype.deselect=function(e){return this._ctx.store.deselect(e)},J.prototype.deleteFeature=function(e,t){return void 0===t&&(t={}),this._ctx.store.delete(e,t)},J.prototype.addFeature=function(e){return this._ctx.store.add(e)},J.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},J.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},J.prototype.setActionableState=function(e){void 0===e&&(e={});var t={trash:e.trash||!1,combineFeatures:e.combineFeatures||!1,uncombineFeatures:e.uncombineFeatures||!1};return this._ctx.events.actionable(t)},J.prototype.changeMode=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),this._ctx.events.changeMode(e,t,n)},J.prototype.updateUIClasses=function(e){return this._ctx.ui.queueMapClasses(e)},J.prototype.activateUIButton=function(e){return this._ctx.ui.setActiveButton(e)},J.prototype.featuresAt=function(e,t,n){if(void 0===n&&(n="click"),"click"!==n&&"touch"!==n)throw new Error("invalid buffer type");return C[n](e,t,this._ctx)},J.prototype.newFeature=function(e){var t=e.geometry.type;return t===l.POINT?new D(this._ctx,e):t===l.LINE_STRING?new V(this._ctx,e):t===l.POLYGON?new B(this._ctx,e):new z(this._ctx,e)},J.prototype.isInstanceOf=function(e,t){if(e===l.POINT)return t instanceof D;if(e===l.LINE_STRING)return t instanceof V;if(e===l.POLYGON)return t instanceof B;if("MultiFeature"===e)return t instanceof z;throw new Error("Unknown feature class: "+e)},J.prototype.doRender=function(e){return this._ctx.store.featureChanged(e)},J.prototype.onSetup=function(){},J.prototype.onDrag=function(){},J.prototype.onClick=function(){},J.prototype.onMouseMove=function(){},J.prototype.onMouseDown=function(){},J.prototype.onMouseUp=function(){},J.prototype.onMouseOut=function(){},J.prototype.onKeyUp=function(){},J.prototype.onKeyDown=function(){},J.prototype.onTouchStart=function(){},J.prototype.onTouchMove=function(){},J.prototype.onTouchEnd=function(){},J.prototype.onTap=function(){},J.prototype.onStop=function(){},J.prototype.onTrash=function(){},J.prototype.onCombineFeature=function(){},J.prototype.onUncombineFeature=function(){},J.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var W={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},Z=Object.keys(W);function q(e){var t=Object.keys(e);return function(n,o){void 0===o&&(o={});var r={},i=t.reduce((function(t,n){return t[n]=e[n],t}),new J(n));return{start:function(){var t=this;r=i.onSetup(o),Z.forEach((function(n){var o,s=W[n],a=function(){return!1};e[s]&&(a=function(){return!0}),t.on(n,a,(o=s,function(e){return i[o](r,e)}))}))},stop:function(){i.onStop(r)},trash:function(){i.onTrash(r)},combineFeatures:function(){i.onCombineFeatures(r)},uncombineFeatures:function(){i.onUncombineFeatures(r)},render:function(e,t){i.toDisplayFeatures(r,e,t)}}}}function Y(e){return[].concat(e).filter((function(e){return void 0!==e}))}function H(){var e=this;if(!e.ctx.map||void 0===e.ctx.map.getSource(a.HOT))return u();var t=e.ctx.events.currentModeName();e.ctx.ui.queueMapClasses({mode:t});var n=[],o=[];e.isDirty?o=e.getAllIds():(n=e.getChangedIds().filter((function(t){return void 0!==e.get(t)})),o=e.sources.hot.filter((function(t){return t.properties.id&&-1===n.indexOf(t.properties.id)&&void 0!==e.get(t.properties.id)})).map((function(e){return e.properties.id}))),e.sources.hot=[];var r=e.sources.cold.length;e.sources.cold=e.isDirty?[]:e.sources.cold.filter((function(e){var t=e.properties.id||e.properties.parent;return-1===n.indexOf(t)}));var i=r!==e.sources.cold.length||o.length>0;function s(n,o){var r=e.get(n).internal(t);e.ctx.events.currentModeRender(r,(function(t){e.sources[o].push(t)}))}if(n.forEach((function(e){return s(e,"hot")})),o.forEach((function(e){return s(e,"cold")})),i&&e.ctx.map.getSource(a.COLD).setData({type:l.FEATURE_COLLECTION,features:e.sources.cold}),e.ctx.map.getSource(a.HOT).setData({type:l.FEATURE_COLLECTION,features:e.sources.hot}),e._emitSelectionChange&&(e.ctx.map.fire(p.SELECTION_CHANGE,{features:e.getSelected().map((function(e){return e.toGeoJSON()})),points:e.getSelectedCoordinates().map((function(e){return{type:l.FEATURE,properties:{},geometry:{type:l.POINT,coordinates:e.coordinates}}}))}),e._emitSelectionChange=!1),e._deletedFeaturesToEmit.length){var c=e._deletedFeaturesToEmit.map((function(e){return e.toGeoJSON()}));e._deletedFeaturesToEmit=[],e.ctx.map.fire(p.DELETE,{features:c})}function u(){e.isDirty=!1,e.clearChangedIds()}u(),e.ctx.map.fire(p.RENDER,{})}function K(e){var t,n=this;this._features={},this._featureIds=new x,this._selectedFeatureIds=new x,this._selectedCoordinates=[],this._changedFeatureIds=new x,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]},this.render=function(){t||(t=requestAnimationFrame((function(){t=null,H.call(n)})))},this.isDirty=!1}function X(e,t){var n=e._selectedCoordinates.filter((function(t){return e._selectedFeatureIds.has(t.feature_id)}));e._selectedCoordinates.length===n.length||t.silent||(e._emitSelectionChange=!0),e._selectedCoordinates=n}K.prototype.createRenderBatch=function(){var e=this,t=this.render,n=0;return this.render=function(){n++},function(){e.render=t,n>0&&e.render()}},K.prototype.setDirty=function(){return this.isDirty=!0,this},K.prototype.featureChanged=function(e){return this._changedFeatureIds.add(e),this},K.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},K.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},K.prototype.getAllIds=function(){return this._featureIds.values()},K.prototype.add=function(e){return this.featureChanged(e.id),this._features[e.id]=e,this._featureIds.add(e.id),this},K.prototype.delete=function(e,t){var n=this;return void 0===t&&(t={}),Y(e).forEach((function(e){n._featureIds.has(e)&&(n._featureIds.delete(e),n._selectedFeatureIds.delete(e),t.silent||-1===n._deletedFeaturesToEmit.indexOf(n._features[e])&&n._deletedFeaturesToEmit.push(n._features[e]),delete n._features[e],n.isDirty=!0)})),X(this,t),this},K.prototype.get=function(e){return this._features[e]},K.prototype.getAll=function(){var e=this;return Object.keys(this._features).map((function(t){return e._features[t]}))},K.prototype.select=function(e,t){var n=this;return void 0===t&&(t={}),Y(e).forEach((function(e){n._selectedFeatureIds.has(e)||(n._selectedFeatureIds.add(e),n._changedFeatureIds.add(e),t.silent||(n._emitSelectionChange=!0))})),this},K.prototype.deselect=function(e,t){var n=this;return void 0===t&&(t={}),Y(e).forEach((function(e){n._selectedFeatureIds.has(e)&&(n._selectedFeatureIds.delete(e),n._changedFeatureIds.add(e),t.silent||(n._emitSelectionChange=!0))})),X(this,t),this},K.prototype.clearSelected=function(e){return void 0===e&&(e={}),this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this},K.prototype.setSelected=function(e,t){var n=this;return void 0===t&&(t={}),e=Y(e),this.deselect(this._selectedFeatureIds.values().filter((function(t){return-1===e.indexOf(t)})),{silent:t.silent}),this.select(e.filter((function(e){return!n._selectedFeatureIds.has(e)})),{silent:t.silent}),this},K.prototype.setSelectedCoordinates=function(e){return this._selectedCoordinates=e,this._emitSelectionChange=!0,this},K.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},K.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},K.prototype.getSelected=function(){var e=this;return this._selectedFeatureIds.values().map((function(t){return e.get(t)}))},K.prototype.getSelectedCoordinates=function(){var e=this;return this._selectedCoordinates.map((function(t){return{coordinates:e.get(t.feature_id).getCoordinate(t.coord_path)}}))},K.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)},K.prototype.setFeatureProperty=function(e,t,n){this.get(e).setProperty(t,n),this.featureChanged(e)},K.prototype.storeMapConfig=function(){var e=this;m.forEach((function(t){e.ctx.map[t]&&(e._mapInitialConfig[t]=e.ctx.map[t].isEnabled())}))},K.prototype.restoreMapConfig=function(){var e=this;Object.keys(this._mapInitialConfig).forEach((function(t){e._mapInitialConfig[t]?e.ctx.map[t].enable():e.ctx.map[t].disable()}))},K.prototype.getInitialConfigValue=function(e){return void 0===this._mapInitialConfig[e]||this._mapInitialConfig[e]};var Q=function(){for(var e=arguments,t={},n=0;n<arguments.length;n++){var o=e[n];for(var r in o)ee.call(o,r)&&(t[r]=o[r])}return t},ee=Object.prototype.hasOwnProperty,te=["mode","feature","mouse"];function ne(t){var n=null,o=null,r={onRemove:function(){return t.map.off("load",r.connect),clearInterval(o),r.removeLayers(),t.store.restoreMapConfig(),t.ui.removeButtons(),t.events.removeEventListeners(),t.ui.clearMapClasses(),t.map=null,t.container=null,t.store=null,n&&n.parentNode&&n.parentNode.removeChild(n),n=null,this},connect:function(){t.map.off("load",r.connect),clearInterval(o),r.addLayers(),t.store.storeMapConfig(),t.events.addEventListeners()},onAdd:function(i){var a=i.fire;return i.fire=function(e,t){var n=arguments;return 1===a.length&&1!==arguments.length&&(n=[Q({},{type:e},t)]),a.apply(i,n)},t.map=i,t.events=function(t){var n=Object.keys(t.options.modes).reduce((function(e,n){return e[n]=q(t.options.modes[n]),e}),{}),o={},r={},i={},s=null,a=null;i.drag=function(e,n){n({point:e.point,time:(new Date).getTime()})?(t.ui.queueMapClasses({mouse:c.DRAG}),a.drag(e)):e.originalEvent.stopPropagation()},i.mousedrag=function(e){i.drag(e,(function(e){return!L(o,e)}))},i.touchdrag=function(e){i.drag(e,(function(e){return!A(r,e)}))},i.mousemove=function(e){if(1===(void 0!==e.originalEvent.buttons?e.originalEvent.buttons:e.originalEvent.which))return i.mousedrag(e);var n=T(e,t);e.featureTarget=n,a.mousemove(e)},i.mousedown=function(e){o={time:(new Date).getTime(),point:e.point};var n=T(e,t);e.featureTarget=n,a.mousedown(e)},i.mouseup=function(e){var n=T(e,t);e.featureTarget=n,L(o,{point:e.point,time:(new Date).getTime()})?a.click(e):a.mouseup(e)},i.mouseout=function(e){a.mouseout(e)},i.touchstart=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled){r={time:(new Date).getTime(),point:e.point};var n=C.touch(e,null,t)[0];e.featureTarget=n,a.touchstart(e)}},i.touchmove=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled)return a.touchmove(e),i.touchdrag(e)},i.touchend=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled){var n=C.touch(e,null,t)[0];e.featureTarget=n,A(r,{time:(new Date).getTime(),point:e.point})?a.tap(e):a.touchend(e)}};var u=function(e){return!(8===e||46===e||e>=48&&e<=57)};function l(o,r,i){void 0===i&&(i={}),a.stop();var c=n[o];if(void 0===c)throw new Error(o+" is not valid");s=o;var u=c(t,r);a=e(u,t),i.silent||t.map.fire(p.MODE_CHANGE,{mode:o}),t.store.setDirty(),t.store.render()}i.keydown=function(e){"mapboxgl-canvas"===(e.srcElement||e.target).classList[0]&&(8!==e.keyCode&&46!==e.keyCode||!t.options.controls.trash?u(e.keyCode)?a.keydown(e):49===e.keyCode&&t.options.controls.point?l(f.DRAW_POINT):50===e.keyCode&&t.options.controls.line_string?l(f.DRAW_LINE_STRING):51===e.keyCode&&t.options.controls.polygon&&l(f.DRAW_POLYGON):(e.preventDefault(),a.trash()))},i.keyup=function(e){u(e.keyCode)&&a.keyup(e)},i.zoomend=function(){t.store.changeZoom()},i.data=function(e){if("style"===e.dataType){var n=t.setup,o=t.map,r=t.options,i=t.store;r.styles.some((function(e){return o.getLayer(e.id)}))||(n.addLayers(),i.setDirty(),i.render())}};var d={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){s=t.options.defaultMode,a=e(n[s](t),t)},changeMode:l,actionable:function(e){var n=!1;Object.keys(e).forEach((function(t){if(void 0===d[t])throw new Error("Invalid action type");d[t]!==e[t]&&(n=!0),d[t]=e[t]})),n&&t.map.fire(p.ACTIONABLE,{actions:d})},currentModeName:function(){return s},currentModeRender:function(e,t){return a.render(e,t)},fire:function(e,t){i[e]&&i[e](t)},addEventListeners:function(){t.map.on("mousemove",i.mousemove),t.map.on("mousedown",i.mousedown),t.map.on("mouseup",i.mouseup),t.map.on("data",i.data),t.map.on("touchmove",i.touchmove),t.map.on("touchstart",i.touchstart),t.map.on("touchend",i.touchend),t.container.addEventListener("mouseout",i.mouseout),t.options.keybindings&&(t.container.addEventListener("keydown",i.keydown),t.container.addEventListener("keyup",i.keyup))},removeEventListeners:function(){t.map.off("mousemove",i.mousemove),t.map.off("mousedown",i.mousedown),t.map.off("mouseup",i.mouseup),t.map.off("data",i.data),t.map.off("touchmove",i.touchmove),t.map.off("touchstart",i.touchstart),t.map.off("touchend",i.touchend),t.container.removeEventListener("mouseout",i.mouseout),t.options.keybindings&&(t.container.removeEventListener("keydown",i.keydown),t.container.removeEventListener("keyup",i.keyup))},trash:function(e){a.trash(e)},combineFeatures:function(){a.combineFeatures()},uncombineFeatures:function(){a.uncombineFeatures()},getMode:function(){return s}}}(t),t.ui=function(e){var t={},n=null,o={mode:null,feature:null,mouse:null},r={mode:null,feature:null,mouse:null};function i(e){r=Q(r,e)}function a(){var t,n;if(e.container){var i=[],s=[];te.forEach((function(e){r[e]!==o[e]&&(i.push(e+"-"+o[e]),null!==r[e]&&s.push(e+"-"+r[e]))})),i.length>0&&(t=e.container.classList).remove.apply(t,i),s.length>0&&(n=e.container.classList).add.apply(n,s),o=Q(o,r)}}function c(e,t){void 0===t&&(t={});var o=document.createElement("button");return o.className=s.CONTROL_BUTTON+" "+t.className,o.setAttribute("title",t.title),t.container.appendChild(o),o.addEventListener("click",(function(o){if(o.preventDefault(),o.stopPropagation(),o.target===n)return l(),void t.onDeactivate();p(e),t.onActivate()}),!0),o}function l(){n&&(n.classList.remove(s.ACTIVE_BUTTON),n=null)}function p(e){l();var o=t[e];o&&o&&"trash"!==e&&(o.classList.add(s.ACTIVE_BUTTON),n=o)}return{setActiveButton:p,queueMapClasses:i,updateMapClasses:a,clearMapClasses:function(){i({mode:null,feature:null,mouse:null}),a()},addButtons:function(){var n=e.options.controls,o=document.createElement("div");return o.className=s.CONTROL_GROUP+" "+s.CONTROL_BASE,n?(n[u.LINE]&&(t[u.LINE]=c(u.LINE,{container:o,className:s.CONTROL_BUTTON_LINE,title:"LineString tool "+(e.options.keybindings?"(l)":""),onActivate:function(){return e.events.changeMode(f.DRAW_LINE_STRING)},onDeactivate:function(){return e.events.trash()}})),n[u.POLYGON]&&(t[u.POLYGON]=c(u.POLYGON,{container:o,className:s.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(e.options.keybindings?"(p)":""),onActivate:function(){return e.events.changeMode(f.DRAW_POLYGON)},onDeactivate:function(){return e.events.trash()}})),n[u.POINT]&&(t[u.POINT]=c(u.POINT,{container:o,className:s.CONTROL_BUTTON_POINT,title:"Marker tool "+(e.options.keybindings?"(m)":""),onActivate:function(){return e.events.changeMode(f.DRAW_POINT)},onDeactivate:function(){return e.events.trash()}})),n.trash&&(t.trash=c("trash",{container:o,className:s.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){e.events.trash()}})),n.combine_features&&(t.combine_features=c("combineFeatures",{container:o,className:s.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){e.events.combineFeatures()}})),n.uncombine_features&&(t.uncombine_features=c("uncombineFeatures",{container:o,className:s.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){e.events.uncombineFeatures()}})),o):o},removeButtons:function(){Object.keys(t).forEach((function(e){var n=t[e];n.parentNode&&n.parentNode.removeChild(n),delete t[e]}))}}}(t),t.container=i.getContainer(),t.store=new K(t),n=t.ui.addButtons(),t.options.boxSelect&&(i.boxZoom.disable(),i.dragPan.disable(),i.dragPan.enable()),i.loaded()?r.connect():(i.on("load",r.connect),o=setInterval((function(){i.loaded()&&r.connect()}),16)),t.events.start(),n},addLayers:function(){t.map.addSource(a.COLD,{data:{type:l.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.map.addSource(a.HOT,{data:{type:l.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.options.styles.forEach((function(e){t.map.addLayer(e)})),t.store.setDirty(!0),t.store.render()},removeLayers:function(){t.options.styles.forEach((function(e){t.map.getLayer(e.id)&&t.map.removeLayer(e.id)})),t.map.getSource(a.COLD)&&t.map.removeSource(a.COLD),t.map.getSource(a.HOT)&&t.map.removeSource(a.HOT)}};return t.setup=r,r}function oe(e){return function(t){var n=t.featureTarget;return!!n&&!!n.properties&&n.properties.meta===e}}function re(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===y.ACTIVE&&e.featureTarget.properties.meta===g.FEATURE}function ie(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===y.INACTIVE&&e.featureTarget.properties.meta===g.FEATURE}function se(e){return void 0===e.featureTarget}function ae(e){var t=e.featureTarget;return!!t&&!!t.properties&&t.properties.meta===g.VERTEX}function ce(e){return!!e.originalEvent&&!0===e.originalEvent.shiftKey}function ue(e){return 27===e.keyCode}function le(e){return 13===e.keyCode}var fe=pe;function pe(e,t){this.x=e,this.y=t}function de(e,t){var n=t.getBoundingClientRect();return new fe(e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0))}function he(e,t,n,o){return{type:l.FEATURE,properties:{meta:g.VERTEX,parent:e,coord_path:n,active:o?y.ACTIVE:y.INACTIVE},geometry:{type:l.POINT,coordinates:t}}}function ge(e,t,n){void 0===t&&(t={}),void 0===n&&(n=null);var o,r=e.geometry,i=r.type,s=r.coordinates,a=e.properties&&e.properties.id,c=[];function u(e,n){var o="",r=null;e.forEach((function(e,i){var s=null!=n?n+"."+i:String(i),u=he(a,e,s,f(s));if(t.midpoints&&r){var p=function(e,t,n){var o=t.geometry.coordinates,r=n.geometry.coordinates;if(o[1]>_||o[1]<v||r[1]>_||r[1]<v)return null;var i={lng:(o[0]+r[0])/2,lat:(o[1]+r[1])/2};return{type:l.FEATURE,properties:{meta:g.MIDPOINT,parent:e,lng:i.lng,lat:i.lat,coord_path:n.properties.coord_path},geometry:{type:l.POINT,coordinates:[i.lng,i.lat]}}}(a,r,u);p&&c.push(p)}r=u;var d=JSON.stringify(e);o!==d&&c.push(u),0===i&&(o=d)}))}function f(e){return!!t.selectedPaths&&-1!==t.selectedPaths.indexOf(e)}return i===l.POINT?c.push(he(a,s,n,f(n))):i===l.POLYGON?s.forEach((function(e,t){u(e,null!==n?n+"."+t:String(t))})):i===l.LINE_STRING?u(s,n):0===i.indexOf(l.MULTI_PREFIX)&&(o=i.replace(l.MULTI_PREFIX,""),s.forEach((function(n,r){var i={type:l.FEATURE,properties:e.properties,geometry:{type:o,coordinates:n}};c=c.concat(ge(i,t,r))}))),c}pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),o=t*this.x-n*this.y,r=n*this.x+t*this.y;return this.x=o,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),o=Math.sin(e),r=t.x+n*(this.x-t.x)-o*(this.y-t.y),i=t.y+o*(this.x-t.x)+n*(this.y-t.y);return this.x=r,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},pe.convert=function(e){return e instanceof pe?e:Array.isArray(e)?new pe(e[0],e[1]):e};var ye=function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},me=function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)},ve=function(e){if(!e||!e.type)return null;var t=_e[e.type];return t?"geometry"===t?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}:"feature"===t?{type:"FeatureCollection",features:[e]}:"featurecollection"===t?e:void 0:null},_e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"},be=function(e){if(!e)return[];var t=function e(t){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce((function(t,n){return t.concat(e(n))}),[]),t;case"Feature":return t.geometry?e(t.geometry).map((function(e){var n={type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e};return void 0!==t.id&&(n.id=t.id),n})):t;case"MultiPoint":return t.coordinates.map((function(e){return{type:"Point",coordinates:e}}));case"MultiPolygon":return t.coordinates.map((function(e){return{type:"Polygon",coordinates:e}}));case"MultiLineString":return t.coordinates.map((function(e){return{type:"LineString",coordinates:e}}));case"GeometryCollection":return t.geometries.map(e).reduce((function(e,t){return e.concat(t)}),[]);case"Point":case"Polygon":case"LineString":return[t]}}(ve(e)),n=[];return t.features.forEach((function(e){e.geometry&&(n=n.concat(function e(t){return Array.isArray(t)&&t.length&&"number"==typeof t[0]?[t]:t.reduce((function(t,n){return Array.isArray(n)&&Array.isArray(n[0])?t.concat(e(n)):(t.push(n),t)}),[])}(e.geometry.coordinates)))})),n},Ee=R((function(e){var t=e.exports=function(e){return new n(e)};function n(e){this.value=e}function o(e,t,n){var o=[],s=[],l=!0;return function e(f){var p=n?r(f):f,d={},h=!0,g={node:p,node_:f,path:[].concat(o),parent:s[s.length-1],parents:s,key:o.slice(-1)[0],isRoot:0===o.length,level:o.length,circular:null,update:function(e,t){g.isRoot||(g.parent.node[g.key]=e),g.node=e,t&&(h=!1)},delete:function(e){delete g.parent.node[g.key],e&&(h=!1)},remove:function(e){a(g.parent.node)?g.parent.node.splice(g.key,1):delete g.parent.node[g.key],e&&(h=!1)},keys:null,before:function(e){d.before=e},after:function(e){d.after=e},pre:function(e){d.pre=e},post:function(e){d.post=e},stop:function(){l=!1},block:function(){h=!1}};if(!l)return g;function y(){if("object"==typeof g.node&&null!==g.node){g.keys&&g.node_===g.node||(g.keys=i(g.node)),g.isLeaf=0==g.keys.length;for(var e=0;e<s.length;e++)if(s[e].node_===f){g.circular=s[e];break}}else g.isLeaf=!0,g.keys=null;g.notLeaf=!g.isLeaf,g.notRoot=!g.isRoot}y();var m=t.call(g,g.node);return void 0!==m&&g.update&&g.update(m),d.before&&d.before.call(g,g.node),h?("object"!=typeof g.node||null===g.node||g.circular||(s.push(g),y(),c(g.keys,(function(t,r){o.push(t),d.pre&&d.pre.call(g,g.node[t],t);var i=e(g.node[t]);n&&u.call(g.node,t)&&(g.node[t]=i.node),i.isLast=r==g.keys.length-1,i.isFirst=0==r,d.post&&d.post.call(g,i),o.pop()})),s.pop()),d.after&&d.after.call(g,g.node),g):g}(e).node}function r(e){if("object"==typeof e&&null!==e){var t;if(a(e))t=[];else if("[object Date]"===s(e))t=new Date(e.getTime?e.getTime():e);else if("[object RegExp]"===s(e))t=new RegExp(e);else if(function(e){return"[object Error]"===s(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===s(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===s(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===s(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},o=function(){};o.prototype=n,t=new o}return c(i(e),(function(n){t[n]=e[n]})),t}return e}n.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var o=e[n];if(!t||!u.call(t,o)){t=void 0;break}t=t[o]}return t},n.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var o=e[n];if(!t||!u.call(t,o))return!1;t=t[o]}return!0},n.prototype.set=function(e,t){for(var n=this.value,o=0;o<e.length-1;o++){var r=e[o];u.call(n,r)||(n[r]={}),n=n[r]}return n[e[o]]=t,t},n.prototype.map=function(e){return o(this.value,e,!0)},n.prototype.forEach=function(e){return this.value=o(this.value,e,!1),this.value},n.prototype.reduce=function(e,t){var n=1===arguments.length,o=n?this.value:t;return this.forEach((function(t){this.isRoot&&n||(o=e.call(this,o,t))})),o},n.prototype.paths=function(){var e=[];return this.forEach((function(t){e.push(this.path)})),e},n.prototype.nodes=function(){var e=[];return this.forEach((function(t){e.push(this.node)})),e},n.prototype.clone=function(){var e=[],t=[];return function n(o){for(var s=0;s<e.length;s++)if(e[s]===o)return t[s];if("object"==typeof o&&null!==o){var a=r(o);return e.push(o),t.push(a),c(i(o),(function(e){a[e]=n(o[e])})),e.pop(),t.pop(),a}return o}(this.value)};var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function s(e){return Object.prototype.toString.call(e)}var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};c(i(n.prototype),(function(e){t[e]=function(t){var o=[].slice.call(arguments,1),r=new n(t);return r[e].apply(r,o)}}));var u=Object.hasOwnProperty||function(e,t){return t in e}})),xe=Se;function Se(e){if(!(this instanceof Se))return new Se(e);this._bbox=e||[1/0,1/0,-1/0,-1/0],this._valid=!!e}Se.prototype.include=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[0]),this._bbox[3]=Math.max(this._bbox[3],e[1]),this},Se.prototype.equals=function(e){var t;return t=e instanceof Se?e.bbox():e,this._bbox[0]==t[0]&&this._bbox[1]==t[1]&&this._bbox[2]==t[2]&&this._bbox[3]==t[3]},Se.prototype.center=function(e){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},Se.prototype.union=function(e){var t;return this._valid=!0,t=e instanceof Se?e.bbox():e,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[2]),this._bbox[3]=Math.max(this._bbox[3],t[3]),this},Se.prototype.bbox=function(){return this._valid?this._bbox:null},Se.prototype.contains=function(e){if(!e)return this._fastContains();if(!this._valid)return null;var t=e[0],n=e[1];return this._bbox[0]<=t&&this._bbox[1]<=n&&this._bbox[2]>=t&&this._bbox[3]>=n},Se.prototype.intersect=function(e){return this._valid?(t=e instanceof Se?e.bbox():e,!(this._bbox[0]>t[2]||this._bbox[2]<t[0]||this._bbox[3]<t[1]||this._bbox[1]>t[3])):null;var t},Se.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var e="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",e)},Se.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var Ce={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},Oe=Object.keys(Ce),Te=function(e){return Ie(e).bbox()};function Ie(e){for(var t=xe(),n=be(e),o=0;o<n.length;o++)t.include(n[o]);return t}Te.polygon=function(e){return Ie(e).polygon()},Te.bboxify=function(e){return Ee(e).map((function(e){e&&Oe.some((function(t){return!!e[t]&&-1!==Ce[t].indexOf(e.type)}))&&(e.bbox=Ie(e).bbox(),this.update(e))}))};var we=-90,Me=90,Pe=v,Le=_,Ne=-270,ke=270;function Ae(e,t){var n=we,o=Me,r=we,i=Me,s=ke,a=Ne;e.forEach((function(e){var t=Te(e),c=t[1],u=t[3],l=t[0],f=t[2];c>n&&(n=c),u<o&&(o=u),u>r&&(r=u),c<i&&(i=c),l<s&&(s=l),f>a&&(a=f)}));var c=t;return n+c.lat>Le&&(c.lat=Le-n),r+c.lat>Me&&(c.lat=Me-r),o+c.lat<Pe&&(c.lat=Pe-o),i+c.lat<we&&(c.lat=we-i),s+c.lng<=Ne&&(c.lng+=360*Math.ceil(Math.abs(c.lng)/360)),a+c.lng>=ke&&(c.lng-=360*Math.ceil(Math.abs(c.lng)/360)),c}function Fe(e,t){var n=Ae(e.map((function(e){return e.toGeoJSON()})),t);e.forEach((function(e){var t,o=e.getCoordinates(),r=function(e){var t={lng:e[0]+n.lng,lat:e[1]+n.lat};return[t.lng,t.lat]},i=function(e){return e.map((function(e){return r(e)}))};e.type===l.POINT?t=r(o):e.type===l.LINE_STRING||e.type===l.MULTI_POINT?t=o.map(r):e.type===l.POLYGON||e.type===l.MULTI_LINE_STRING?t=o.map(i):e.type===l.MULTI_POLYGON&&(t=o.map((function(e){return e.map((function(e){return i(e)}))}))),e.incomingCoords(t)}))}var Re={onSetup:function(e){var t=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter((function(e){return void 0!==t.getFeature(e)}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(p.UPDATE,{action:d,features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(){var e=this,t=this.getSelected(),n=t.filter((function(t){return e.isInstanceOf("MultiFeature",t)})),o=!1;if(t.length>1){o=!0;var r=t[0].type.replace("Multi","");t.forEach((function(e){e.type.replace("Multi","")!==r&&(o=!1)}))}var i=n.length>0,s=t.length>0;this.setActionableState({combineFeatures:o,uncombineFeatures:i,trash:s})},getUniqueIds:function(e){return e.length?e.map((function(e){return e.properties.id})).filter((function(e){return void 0!==e})).reduce((function(e,t){return e.add(t),e}),new x).values():[]},stopExtendedInteractions:function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1},onStop:function(){ye(this)},onMouseMove:function(e){return this.stopExtendedInteractions(e),!0},onMouseOut:function(e){return!e.dragMoving||this.fireUpdate()}};Re.onTap=Re.onClick=function(e,t){return se(t)?this.clickAnywhere(e,t):oe(g.VERTEX)(t)?this.clickOnVertex(e,t):(n=t).featureTarget&&n.featureTarget.properties&&n.featureTarget.properties.meta===g.FEATURE?this.clickOnFeature(e,t):void 0;var n},Re.clickAnywhere=function(e){var t=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach((function(e){return t.doRender(e)}))),ye(this),this.stopExtendedInteractions(e)},Re.clickOnVertex=function(e,t){this.changeMode(f.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:c.MOVE})},Re.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},Re.clickOnFeature=function(e,t){var n=this;me(this),this.stopExtendedInteractions(e);var o=ce(t),r=this.getSelectedIds(),i=t.featureTarget.properties.id,s=this.isSelected(i);if(!o&&s&&this.getFeature(i).type!==l.POINT)return this.changeMode(f.DIRECT_SELECT,{featureId:i});s&&o?(this.deselect(i),this.updateUIClasses({mouse:c.POINTER}),1===r.length&&ye(this)):!s&&o?(this.select(i),this.updateUIClasses({mouse:c.MOVE})):s||o||(r.forEach((function(e){return n.doRender(e)})),this.setSelected(i),this.updateUIClasses({mouse:c.MOVE})),this.doRender(i)},Re.onMouseDown=function(e,t){return re(t)?this.startOnActiveFeature(e,t):this.drawConfig.boxSelect&&(n=t).originalEvent&&n.originalEvent.shiftKey&&0===n.originalEvent.button?this.startBoxSelect(e,t):void 0;var n},Re.startBoxSelect=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=de(t.originalEvent,this.map.getContainer()),e.canBoxSelect=!0},Re.onTouchStart=function(e,t){if(re(t))return this.startOnActiveFeature(e,t)},Re.onDrag=function(e,t){return e.canDragMove?this.dragMove(e,t):this.drawConfig.boxSelect&&e.canBoxSelect?this.whileBoxSelect(e,t):void 0},Re.whileBoxSelect=function(e,t){e.boxSelecting=!0,this.updateUIClasses({mouse:c.ADD}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add(s.BOX_SELECT),this.map.getContainer().appendChild(e.boxSelectElement));var n=de(t.originalEvent,this.map.getContainer()),o=Math.min(e.boxSelectStartLocation.x,n.x),r=Math.max(e.boxSelectStartLocation.x,n.x),i=Math.min(e.boxSelectStartLocation.y,n.y),a=Math.max(e.boxSelectStartLocation.y,n.y),u="translate("+o+"px, "+i+"px)";e.boxSelectElement.style.transform=u,e.boxSelectElement.style.WebkitTransform=u,e.boxSelectElement.style.width=r-o+"px",e.boxSelectElement.style.height=a-i+"px"},Re.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();var n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};Fe(this.getSelected(),n),e.dragMoveLocation=t.lngLat},Re.onMouseUp=function(e,t){var n=this;if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){var o=[e.boxSelectStartLocation,de(t.originalEvent,this.map.getContainer())],r=this.featuresAt(null,o,"click"),i=this.getUniqueIds(r).filter((function(e){return!n.isSelected(e)}));i.length&&(this.select(i),i.forEach((function(e){return n.doRender(e)})),this.updateUIClasses({mouse:c.MOVE}))}this.stopExtendedInteractions(e)},Re.toDisplayFeatures=function(e,t,n){t.properties.active=this.isSelected(t.properties.id)?y.ACTIVE:y.INACTIVE,n(t),this.fireActionable(),t.properties.active===y.ACTIVE&&t.geometry.type!==l.POINT&&ge(t).forEach(n)},Re.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},Re.onCombineFeatures=function(){var e=this.getSelected();if(!(0===e.length||e.length<2)){for(var t=[],n=[],o=e[0].type.replace("Multi",""),r=0;r<e.length;r++){var i=e[r];if(i.type.replace("Multi","")!==o)return;i.type.includes("Multi")?i.getCoordinates().forEach((function(e){t.push(e)})):t.push(i.getCoordinates()),n.push(i.toGeoJSON())}if(n.length>1){var s=this.newFeature({type:l.FEATURE,properties:n[0].properties,geometry:{type:"Multi"+o,coordinates:t}});this.addFeature(s),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([s.id]),this.map.fire(p.COMBINE_FEATURES,{createdFeatures:[s.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},Re.onUncombineFeatures=function(){var e=this,t=this.getSelected();if(0!==t.length){for(var n=[],o=[],r=function(r){var i=t[r];e.isInstanceOf("MultiFeature",i)&&(i.getFeatures().forEach((function(t){e.addFeature(t),t.properties=i.properties,n.push(t.toGeoJSON()),e.select([t.id])})),e.deleteFeature(i.id,{silent:!0}),o.push(i.toGeoJSON()))},i=0;i<t.length;i++)r(i);n.length>1&&this.map.fire(p.UNCOMBINE_FEATURES,{createdFeatures:n,deletedFeatures:o}),this.fireActionable()}};var je=oe(g.VERTEX),Ue=oe(g.MIDPOINT),De={fireUpdate:function(){this.map.fire(p.UPDATE,{action:h,features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(e,t){this.startDragging(e,t);var n=t.featureTarget.properties,o=e.selectedCoordPaths.indexOf(n.coord_path);ce(t)||-1!==o?ce(t)&&-1===o&&e.selectedCoordPaths.push(n.coord_path):e.selectedCoordPaths=[n.coord_path];var r=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(r)},onMidpoint:function(e,t){this.startDragging(e,t);var n=t.featureTarget.properties;e.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),e.selectedCoordPaths=[n.coord_path]},pathsToCoordinates:function(e,t){return t.map((function(t){return{feature_id:e,coord_path:t}}))},onFeature:function(e,t){0===e.selectedCoordPaths.length?this.startDragging(e,t):this.stopDragging(e)},dragFeature:function(e,t,n){Fe(this.getSelected(),n),e.dragMoveLocation=t.lngLat},dragVertex:function(e,t,n){for(var o=e.selectedCoordPaths.map((function(t){return e.feature.getCoordinate(t)})),r=Ae(o.map((function(e){return{type:l.FEATURE,properties:{},geometry:{type:l.POINT,coordinates:e}}})),n),i=0;i<o.length;i++){var s=o[i];e.feature.updateCoordinate(e.selectedCoordPaths[i],s[0]+r.lng,s[1]+r.lat)}},clickNoTarget:function(){this.changeMode(f.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(f.SIMPLE_SELECT)},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){var t=e.featureId,n=this.getFeature(t);if(!n)throw new Error("You must provide a featureId to enter direct_select mode");if(n.type===l.POINT)throw new TypeError("direct_select mode doesn't handle point features");var o={featureId:t,feature:n,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,o.selectedCoordPaths)),this.setSelected(t),me(this),this.setActionableState({trash:!0}),o},onStop:function(){ye(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(e,t,n){e.featureId===t.properties.id?(t.properties.active=y.ACTIVE,n(t),ge(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(n)):(t.properties.active=y.INACTIVE,n(t)),this.fireActionable(e)},onTrash:function(e){e.selectedCoordPaths.sort((function(e,t){return t.localeCompare(e,"en",{numeric:!0})})).forEach((function(t){return e.feature.removeCoordinate(t)})),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(this.deleteFeature([e.featureId]),this.changeMode(f.SIMPLE_SELECT,{}))},onMouseMove:function(e,t){var n=re(t),o=je(t),r=0===e.selectedCoordPaths.length;return n&&r||o&&!r?this.updateUIClasses({mouse:c.MOVE}):this.updateUIClasses({mouse:c.NONE}),this.stopDragging(e),!0},onMouseOut:function(e){return e.dragMoving&&this.fireUpdate(),!0}};De.onTouchStart=De.onMouseDown=function(e,t){return je(t)?this.onVertex(e,t):re(t)?this.onFeature(e,t):Ue(t)?this.onMidpoint(e,t):void 0},De.onDrag=function(e,t){if(!0===e.canDragMove){e.dragMoving=!0,t.originalEvent.stopPropagation();var n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,n):this.dragFeature(e,t,n),e.dragMoveLocation=t.lngLat}},De.onClick=function(e,t){return se(t)?this.clickNoTarget(e,t):re(t)?this.clickActiveFeature(e,t):ie(t)?this.clickInactive(e,t):void this.stopDragging(e)},De.onTap=function(e,t){return se(t)?this.clickNoTarget(e,t):re(t)?this.clickActiveFeature(e,t):ie(t)?this.clickInactive(e,t):void 0},De.onTouchEnd=De.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)};var Ve={};function Be(e,t){return!!e.lngLat&&e.lngLat.lng===t[0]&&e.lngLat.lat===t[1]}Ve.onSetup=function(){var e=this.newFeature({type:l.FEATURE,properties:{},geometry:{type:l.POINT,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:c.ADD}),this.activateUIButton(u.POINT),this.setActionableState({trash:!0}),{point:e}},Ve.stopDrawingAndRemove=function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)},Ve.onTap=Ve.onClick=function(e,t){this.updateUIClasses({mouse:c.MOVE}),e.point.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),this.map.fire(p.CREATE,{features:[e.point.toGeoJSON()]}),this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.point.id]})},Ve.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})},Ve.toDisplayFeatures=function(e,t,n){var o=t.properties.id===e.point.id;if(t.properties.active=o?y.ACTIVE:y.INACTIVE,!o)return n(t)},Ve.onTrash=Ve.stopDrawingAndRemove,Ve.onKeyUp=function(e,t){if(ue(t)||le(t))return this.stopDrawingAndRemove(e,t)};var $e={onSetup:function(){var e=this.newFeature({type:l.FEATURE,properties:{},geometry:{type:l.POLYGON,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),me(this),this.updateUIClasses({mouse:c.ADD}),this.activateUIButton(u.POLYGON),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&Be(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:c.ADD}),e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},onMouseMove:function(e,t){e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),ae(t)&&this.updateUIClasses({mouse:c.POINTER})}};$e.onTap=$e.onClick=function(e,t){return ae(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)},$e.onKeyUp=function(e,t){ue(t)?(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)):le(t)&&this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},$e.onStop=function(e){this.updateUIClasses({mouse:c.NONE}),ye(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate("0."+e.currentVertexPosition),e.polygon.isValid()?this.map.fire(p.CREATE,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT,{},{silent:!0})))},$e.toDisplayFeatures=function(e,t,n){var o=t.properties.id===e.polygon.id;if(t.properties.active=o?y.ACTIVE:y.INACTIVE,!o)return n(t);if(0!==t.geometry.coordinates.length){var r=t.geometry.coordinates[0].length;if(!(r<3)){if(t.properties.meta=g.FEATURE,n(he(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),r>3){var i=t.geometry.coordinates[0].length-3;n(he(e.polygon.id,t.geometry.coordinates[0][i],"0."+i,!1))}if(r<=4){var s=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(n({type:l.FEATURE,properties:t.properties,geometry:{coordinates:s,type:l.LINE_STRING}}),3===r)return}return n(t)}}},$e.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)};var Ge={onSetup:function(e){var t,n,o=(e=e||{}).featureId,r="forward";if(o){if(!(t=this.getFeature(o)))throw new Error("Could not find a feature with the provided featureId");var i=e.from;if(i&&"Feature"===i.type&&i.geometry&&"Point"===i.geometry.type&&(i=i.geometry),i&&"Point"===i.type&&i.coordinates&&2===i.coordinates.length&&(i=i.coordinates),!i||!Array.isArray(i))throw new Error("Please use the `from` property to indicate which point to continue the line from");var s=t.coordinates.length-1;if(t.coordinates[s][0]===i[0]&&t.coordinates[s][1]===i[1])n=s+1,t.addCoordinate.apply(t,[n].concat(t.coordinates[s]));else{if(t.coordinates[0][0]!==i[0]||t.coordinates[0][1]!==i[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");r="backwards",n=0,t.addCoordinate.apply(t,[n].concat(t.coordinates[0]))}}else t=this.newFeature({type:l.FEATURE,properties:{},geometry:{type:l.LINE_STRING,coordinates:[]}}),n=0,this.addFeature(t);return this.clearSelectedFeatures(),me(this),this.updateUIClasses({mouse:c.ADD}),this.activateUIButton(u.LINE),this.setActionableState({trash:!0}),{line:t,currentVertexPosition:n,direction:r}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&Be(t,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&Be(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:c.ADD}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),ae(t)&&this.updateUIClasses({mouse:c.POINTER})}};Ge.onTap=Ge.onClick=function(e,t){if(ae(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},Ge.onKeyUp=function(e,t){le(t)?this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]}):ue(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT))},Ge.onStop=function(e){ye(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate(""+e.currentVertexPosition),e.line.isValid()?this.map.fire(p.CREATE,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT,{},{silent:!0})))},Ge.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)},Ge.toDisplayFeatures=function(e,t,n){var o=t.properties.id===e.line.id;if(t.properties.active=o?y.ACTIVE:y.INACTIVE,!o)return n(t);t.geometry.coordinates.length<2||(t.properties.meta=g.FEATURE,n(he(e.line.id,t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],""+("forward"===e.direction?t.geometry.coordinates.length-2:1),!1)),n(t))};var ze={simple_select:Re,direct_select:De,draw_point:Ve,draw_polygon:$e,draw_line_string:Ge},Je={defaultMode:f.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}],modes:ze,controls:{},userProperties:!1},We={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},Ze={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function qe(e,t){return e.map((function(e){return e.source?e:Q(e,{id:e.id+"."+t,source:"hot"===t?a.HOT:a.COLD})}))}var Ye=R((function(e,t){var n=200,o="__lodash_hash_undefined__",r=1,i=2,s=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",f="[object Date]",p="[object Error]",d="[object Function]",h="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",v="[object Object]",_="[object Proxy]",b="[object RegExp]",E="[object Set]",x="[object String]",S="[object Symbol]",C="[object Undefined]",O="[object ArrayBuffer]",T="[object DataView]",I=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[a]=M[c]=M[O]=M[l]=M[T]=M[f]=M[p]=M[d]=M[g]=M[y]=M[v]=M[b]=M[E]=M[x]=M["[object WeakMap]"]=!1;var P="object"==typeof Yo&&Yo&&Yo.Object===Object&&Yo,L="object"==typeof self&&self&&self.Object===Object&&self,N=P||L||Function("return this")(),k=t&&!t.nodeType&&t,A=k&&e&&!e.nodeType&&e,F=A&&A.exports===k,R=F&&P.process,j=function(){try{return R&&R.binding&&R.binding("util")}catch(He){}}(),U=j&&j.isTypedArray;function D(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}function B(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var $,G,z,J=Array.prototype,W=Function.prototype,Z=Object.prototype,q=N["__core-js_shared__"],Y=W.toString,H=Z.hasOwnProperty,K=($=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",X=Z.toString,Q=RegExp("^"+Y.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=F?N.Buffer:void 0,te=N.Symbol,ne=N.Uint8Array,oe=Z.propertyIsEnumerable,re=J.splice,ie=te?te.toStringTag:void 0,se=Object.getOwnPropertySymbols,ae=ee?ee.isBuffer:void 0,ce=(G=Object.keys,z=Object,function(e){return G(z(e))}),ue=je(N,"DataView"),le=je(N,"Map"),fe=je(N,"Promise"),pe=je(N,"Set"),de=je(N,"WeakMap"),he=je(Object,"create"),ge=Be(ue),ye=Be(le),me=Be(fe),ve=Be(pe),_e=Be(de),be=te?te.prototype:void 0,Ee=be?be.valueOf:void 0;function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ce;++t<n;)this.add(e[t])}function Te(e){var t=this.__data__=new Se(e);this.size=t.size}function Ie(e,t){var n=ze(e),o=!n&&Ge(e),r=!n&&!o&&Je(e),i=!n&&!o&&!r&&Ke(e),s=n||o||r||i,a=s?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],c=a.length;for(var u in e)!t&&!H.call(e,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ve(u,c))||a.push(u);return a}function we(e,t){for(var n=e.length;n--;)if($e(e[n][0],t))return n;return-1}function Me(e){return null==e?void 0===e?C:m:ie&&ie in Object(e)?function(e){var t=H.call(e,ie),n=e[ie];try{e[ie]=void 0;var o=!0}catch(i){}var r=X.call(e);return o&&(t?e[ie]=n:delete e[ie]),r}(e):(t=e,X.call(t));var t}function Pe(e){return Ye(e)&&Me(e)==a}function Le(e,t,n,o,s){return e===t||(null==e||null==t||!Ye(e)&&!Ye(t)?e!=e&&t!=t:function(e,t,n,o,s,u){var d=ze(e),h=ze(t),m=d?c:De(e),_=h?c:De(t),C=(m=m==a?v:m)==v,I=(_=_==a?v:_)==v,w=m==_;if(w&&Je(e)){if(!Je(t))return!1;d=!0,C=!1}if(w&&!C)return u||(u=new Te),d||Ke(e)?Ae(e,t,n,o,s,u):function(e,t,n,o,s,a,c){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!a(new ne(e),new ne(t)));case l:case f:case y:return $e(+e,+t);case p:return e.name==t.name&&e.message==t.message;case b:case x:return e==t+"";case g:var u=V;case E:var d=o&r;if(u||(u=B),e.size!=t.size&&!d)return!1;var h=c.get(e);if(h)return h==t;o|=i,c.set(e,t);var m=Ae(u(e),u(t),o,s,a,c);return c.delete(e),m;case S:if(Ee)return Ee.call(e)==Ee.call(t)}return!1}(e,t,m,n,o,s,u);if(!(n&r)){var M=C&&H.call(e,"__wrapped__"),P=I&&H.call(t,"__wrapped__");if(M||P){var L=M?e.value():e,N=P?t.value():t;return u||(u=new Te),s(L,N,n,o,u)}}return!!w&&(u||(u=new Te),function(e,t,n,o,i,s){var a=n&r,c=Fe(e),u=c.length;if(u!=Fe(t).length&&!a)return!1;for(var l=u;l--;){var f=c[l];if(!(a?f in t:H.call(t,f)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var d=!0;s.set(e,t),s.set(t,e);for(var h=a;++l<u;){var g=e[f=c[l]],y=t[f];if(o)var m=a?o(y,g,f,t,e,s):o(g,y,f,e,t,s);if(!(void 0===m?g===y||i(g,y,n,o,s):m)){d=!1;break}h||(h="constructor"==f)}if(d&&!h){var v=e.constructor,_=t.constructor;v!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return s.delete(e),s.delete(t),d}(e,t,n,o,s,u))}(e,t,n,o,Le,s))}function Ne(e){return!(!qe(e)||(t=e,K&&K in t))&&(We(e)?Q:I).test(Be(e));var t}function ke(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||Z))return ce(e);var t,n,o=[];for(var r in Object(e))H.call(e,r)&&"constructor"!=r&&o.push(r);return o}function Ae(e,t,n,o,s,a){var c=n&r,u=e.length,l=t.length;if(u!=l&&!(c&&l>u))return!1;var f=a.get(e);if(f&&a.get(t))return f==t;var p=-1,d=!0,h=n&i?new Oe:void 0;for(a.set(e,t),a.set(t,e);++p<u;){var g=e[p],y=t[p];if(o)var m=c?o(y,g,p,t,e,a):o(g,y,p,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!D(t,(function(e,t){if(r=t,!h.has(r)&&(g===e||s(g,e,n,o,a)))return h.push(t);var r}))){d=!1;break}}else if(g!==y&&!s(g,y,n,o,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function Fe(e){return n=Ue,o=Xe(t=e),ze(t)?o:function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}(o,n(t));var t,n,o}function Re(e,t){var n,o,r=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function je(e,t){var n,o,r=(o=t,null==(n=e)?void 0:n[o]);return Ne(r)?r:void 0}xe.prototype.clear=function(){this.__data__=he?he(null):{},this.size=0},xe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xe.prototype.get=function(e){var t=this.__data__;if(he){var n=t[e];return n===o?void 0:n}return H.call(t,e)?t[e]:void 0},xe.prototype.has=function(e){var t=this.__data__;return he?void 0!==t[e]:H.call(t,e)},xe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=he&&void 0===t?o:t,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(e){var t=this.__data__,n=we(t,e);return!(n<0||(n==t.length-1?t.pop():re.call(t,n,1),--this.size,0))},Se.prototype.get=function(e){var t=this.__data__,n=we(t,e);return n<0?void 0:t[n][1]},Se.prototype.has=function(e){return we(this.__data__,e)>-1},Se.prototype.set=function(e,t){var n=this.__data__,o=we(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this},Ce.prototype.clear=function(){this.size=0,this.__data__={hash:new xe,map:new(le||Se),string:new xe}},Ce.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},Ce.prototype.get=function(e){return Re(this,e).get(e)},Ce.prototype.has=function(e){return Re(this,e).has(e)},Ce.prototype.set=function(e,t){var n=Re(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},Oe.prototype.add=Oe.prototype.push=function(e){return this.__data__.set(e,o),this},Oe.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new Se,this.size=0},Te.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var o=this.__data__;if(o instanceof Se){var r=o.__data__;if(!le||r.length<n-1)return r.push([e,t]),this.size=++o.size,this;o=this.__data__=new Ce(r)}return o.set(e,t),this.size=o.size,this};var Ue=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var s=e[n];t(s,n,e)&&(i[r++]=s)}return i}(se(e),(function(t){return oe.call(e,t)})))}:function(){return[]},De=Me;function Ve(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||w.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){if(null!=e){try{return Y.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function $e(e,t){return e===t||e!=e&&t!=t}(ue&&De(new ue(new ArrayBuffer(1)))!=T||le&&De(new le)!=g||fe&&"[object Promise]"!=De(fe.resolve())||pe&&De(new pe)!=E||de&&"[object WeakMap]"!=De(new de))&&(De=function(e){var t=Me(e),n=t==v?e.constructor:void 0,o=n?Be(n):"";if(o)switch(o){case ge:return T;case ye:return g;case me:return"[object Promise]";case ve:return E;case _e:return"[object WeakMap]"}return t});var Ge=Pe(function(){return arguments}())?Pe:function(e){return Ye(e)&&H.call(e,"callee")&&!oe.call(e,"callee")},ze=Array.isArray,Je=ae||function(){return!1};function We(e){if(!qe(e))return!1;var t=Me(e);return t==d||t==h||t==u||t==_}function Ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function qe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ye(e){return null!=e&&"object"==typeof e}var He,Ke=U?(He=U,function(e){return He(e)}):function(e){return Ye(e)&&Ze(e.length)&&!!M[Me(e)]};function Xe(e){return null!=(t=e)&&Ze(t.length)&&!We(t)?Ie(e):ke(e);var t}e.exports=function(e,t){return Le(e,t)}})),He={};function Ke(e,t){for(var n=0,o=e.length-1;o>=0;o--){var r=e[o];"."===r?e.splice(o,1):".."===r?(e.splice(o,1),n++):n&&(e.splice(o,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var Xe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Qe=function(e){return Xe.exec(e).slice(1)};function et(){for(var e=arguments,t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var r=o>=0?e[o]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,n="/"===r.charAt(0))}return(n?"/":"")+(t=Ke(rt(t.split("/"),(function(e){return!!e})),!n).join("/"))||"."}function tt(e){var t=nt(e),n="/"===it(e,-1);return(e=Ke(rt(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function nt(e){return"/"===e.charAt(0)}var ot={extname:function(e){return Qe(e)[3]},basename:function(e,t){var n=Qe(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},dirname:function(e){var t=Qe(e),n=t[0],o=t[1];return n||o?(o&&(o=o.substr(0,o.length-1)),n+o):"."},sep:"/",delimiter:":",relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=et(e).substr(1),t=et(t).substr(1);for(var o=n(e.split("/")),r=n(t.split("/")),i=Math.min(o.length,r.length),s=i,a=0;a<i;a++)if(o[a]!==r[a]){s=a;break}var c=[];for(a=s;a<o.length;a++)c.push("..");return(c=c.concat(r.slice(s))).join("/")},join:function(){return tt(rt(Array.prototype.slice.call(arguments,0),(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},isAbsolute:nt,normalize:tt,resolve:et};function rt(e,t){if(e.filter)return e.filter(t);for(var n=[],o=0;o<e.length;o++)t(e[o],o,e)&&n.push(e[o]);return n}var it="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)},st=R((function(e,t){var n=function(){var e=function(e,t,n,o){for(n=n||{},o=e.length;o--;n[e[o]]=t);return n},t=[1,12],n=[1,13],o=[1,9],r=[1,10],i=[1,11],s=[1,14],a=[1,15],c=[14,18,22,24],u=[18,22],l=[22,24],f={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,o,r,i,s){var a=i.length-1;switch(r){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=i[a-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=i[a-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[i[a-2],i[a]];break;case 16:this.$={},this.$[i[a][0]]=i[a][1];break;case 17:this.$=i[a-2],void 0!==i[a-2][i[a][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(i[a][0])),i[a-2][i[a][0]]=i[a][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[i[a]];break;case 21:this.$=i[a-2],i[a-2].push(i[a])}},table:[{3:5,4:t,5:6,6:n,7:3,8:o,9:4,10:r,11:i,12:1,13:2,15:7,16:8,17:s,23:a},{1:[3]},{14:[1,16]},e(c,[2,7]),e(c,[2,8]),e(c,[2,9]),e(c,[2,10]),e(c,[2,11]),e(c,[2,12]),e(c,[2,3]),e(c,[2,4]),e(c,[2,5]),e([14,18,21,22,24],[2,1]),e(c,[2,2]),{3:20,4:t,18:[1,17],19:18,20:19},{3:5,4:t,5:6,6:n,7:3,8:o,9:4,10:r,11:i,13:23,15:7,16:8,17:s,23:a,24:[1,21],25:22},{1:[2,6]},e(c,[2,13]),{18:[1,24],22:[1,25]},e(u,[2,16]),{21:[1,26]},e(c,[2,18]),{22:[1,28],24:[1,27]},e(l,[2,20]),e(c,[2,14]),{3:20,4:t,20:29},{3:5,4:t,5:6,6:n,7:3,8:o,9:4,10:r,11:i,13:30,15:7,16:8,17:s,23:a},e(c,[2,19]),{3:5,4:t,5:6,6:n,7:3,8:o,9:4,10:r,11:i,13:31,15:7,16:8,17:s,23:a},e(u,[2,17]),e(u,[2,15]),e(l,[2,21])],defaultActions:{16:[2,6]},parseError:function(e,t){if(!t.recoverable){let n=function(e,t){this.message=e,this.hash=t};throw n.prototype=Error,new n(e,t)}this.trace(e)},parse:function(e){var t=this,n=[0],o=[null],r=[],i=this.table,s="",a=0,c=0,u=2,l=1,f=r.slice.call(arguments,1),p=Object.create(this.lexer),d={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(d.yy[h]=this.yy[h]);p.setInput(e,d.yy),d.yy.lexer=p,d.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var g=p.yylloc;r.push(g);var y=p.options&&p.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,v,_,b,E,x,S,C,O,T=function(){var e;return"number"!=typeof(e=p.lex()||l)&&(e=t.symbols_[e]||e),e},I={};;){if(_=n[n.length-1],this.defaultActions[_]?b=this.defaultActions[_]:(null==m&&(m=T()),b=i[_]&&i[_][m]),void 0===b||!b.length||!b[0]){var w="";for(x in O=[],i[_])this.terminals_[x]&&x>u&&O.push("'"+this.terminals_[x]+"'");w=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(m==l?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(w,{text:p.match,token:this.terminals_[m]||m,line:p.yylineno,loc:g,expected:O})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+m);switch(b[0]){case 1:n.push(m),o.push(p.yytext),r.push(p.yylloc),n.push(b[1]),m=null,v?(m=v,v=null):(c=p.yyleng,s=p.yytext,a=p.yylineno,g=p.yylloc);break;case 2:if(S=this.productions_[b[1]][1],I.$=o[o.length-S],I._$={first_line:r[r.length-(S||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(S||1)].first_column,last_column:r[r.length-1].last_column},y&&(I._$.range=[r[r.length-(S||1)].range[0],r[r.length-1].range[1]]),void 0!==(E=this.performAction.apply(I,[s,c,a,d.yy,b[1],o,r].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),o=o.slice(0,-1*S),r=r.slice(0,-1*S)),n.push(this.productions_[b[1]][0]),o.push(I.$),r.push(I._$),C=i[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},p={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var o=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===o.length?this.yylloc.first_column:0)+o[o.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,o,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(o=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in r)this[i]=r[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),i=0;i<r.length;i++)if((n=this._input.match(this.rules[r[i]]))&&(!t||n[0].length>t[0].length)){if(t=n,o=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[o]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,o){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function d(){this.yy={}}return f.lexer=p,d.prototype=f,f.Parser=d,new d}();t.parser=n,t.Parser=n.Parser,t.parse=function(){return n.parse.apply(n,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var n=He.readFileSync(ot.normalize(e[1]),"utf8");return t.parser.parse(n)},F.main===e&&t.main(process.argv.slice(1))}));function at(e){return e*Math.PI/180}function ct(e){var t=0;if(e.length>2)for(var n,o,r=0;r<e.length-1;r++)n=e[r],t+=at((o=e[r+1])[0]-n[0])*(2+Math.sin(at(n[1]))+Math.sin(at(o[1])));return t>=0}function ut(e){if(e&&e.length>0){if(ct(e[0]))return!1;if(!e.slice(1,e.length).every(ct))return!1}return!0}st.parser,st.Parser,st.parse,st.main;var lt=function(e,t){var n;("Polygon"===(n=e).type?ut(n.coordinates):"MultiPolygon"===n.type?n.coordinates.every(ut):void 0)||t.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:e.__line__})},ft={hint:function(e,t){var n=[],o=0,r=10,i=6;function s(e){if(t&&!1===t.noDuplicateMembers||!e.__duplicateProperties__||n.push({message:"An object contained duplicate members, making parsing ambigous: "+e.__duplicateProperties__.join(", "),line:e.__line__}),!c(e,"type","string"))if(h[e.type])e&&h[e.type](e);else{var o=g[e.type.toLowerCase()];void 0!==o?n.push({message:"Expected "+o+" but got "+e.type+" (case sensitive)",line:e.__line__}):n.push({message:"The type "+e.type+" is unknown",line:e.__line__})}}function a(e,t){return e.every((function(e){return null!==e&&typeof e===t}))}function c(e,t,o){if(void 0===e[t])return n.push({message:'"'+t+'" member required',line:e.__line__});if("array"===o){if(!Array.isArray(e[t]))return n.push({message:'"'+t+'" member should be an array, but is an '+typeof e[t]+" instead",line:e.__line__})}else{if("object"===o&&e[t]&&e[t].constructor!==Object)return n.push({message:'"'+t+'" member should be '+o+", but is an "+e[t].constructor.name+" instead",line:e.__line__});if(o&&typeof e[t]!==o)return n.push({message:'"'+t+'" member should be '+o+", but is an "+typeof e[t]+" instead",line:e.__line__})}}function u(e,s){if(!Array.isArray(e))return n.push({message:"position should be an array, is a "+typeof e+" instead",line:e.__line__||s});if(e.length<2)return n.push({message:"position must have 2 or more elements",line:e.__line__||s});if(e.length>3)return n.push({message:"position should not have more than 3 elements",level:"message",line:e.__line__||s});if(!a(e,"number"))return n.push({message:"each element in a position must be a number",line:e.__line__||s});if(t&&t.precisionWarning){if(o===r)return o+=1,n.push({message:"truncated warnings: we've encountered coordinate precision warning "+r+" times, no more warnings will be reported",level:"message",line:e.__line__||s});o<r&&e.forEach((function(t){var r=0,a=String(t).split(".")[1];if(void 0!==a&&(r=a.length),r>i)return o+=1,n.push({message:"precision of coordinates should be reduced",level:"message",line:e.__line__||s})}))}}function l(e,t,o,r){if(void 0===r&&void 0!==e.__line__&&(r=e.__line__),0===o)return u(e,r);if(1===o&&t)if("LinearRing"===t){if(!Array.isArray(e[e.length-1]))return n.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:r}),!0;if(e.length<4&&n.push({message:"a LinearRing of coordinates needs to have four or more positions",line:r}),e.length&&(e[e.length-1].length!==e[0].length||!e[e.length-1].every((function(t,n){return e[0][n]===t}))))return n.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:r}),!0}else if("Line"===t&&e.length<2)return n.push({message:"a line needs to have two or more coordinates to be valid",line:r});if(Array.isArray(e))return e.map((function(e){return l(e,t,o-1,e.__line__||r)})).some((function(e){return e}));n.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:r})}function f(e){e.crs&&("object"==typeof e.crs&&e.crs.properties&&"urn:ogc:def:crs:OGC:1.3:CRS84"===e.crs.properties.name?n.push({message:"old-style crs member is not recommended, this object is equivalent to the default and should be removed",line:e.__line__}):n.push({message:"old-style crs member is not recommended",line:e.__line__}))}function p(e){if(e.bbox)return Array.isArray(e.bbox)?(a(e.bbox,"number")||n.push({message:"each element in a bbox member must be a number",line:e.bbox.__line__}),4!==e.bbox.length&&6!==e.bbox.length&&n.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:e.bbox.__line__}),n.length):void n.push({message:"bbox member must be an array of numbers, but is a "+typeof e.bbox,line:e.__line__})}function d(e){f(e),p(e),void 0!==e.id&&"string"!=typeof e.id&&"number"!=typeof e.id&&n.push({message:'Feature "id" member must have a string or number value',line:e.__line__}),void 0!==e.features&&n.push({message:'Feature object cannot contain a "features" member',line:e.__line__}),void 0!==e.coordinates&&n.push({message:'Feature object cannot contain a "coordinates" member',line:e.__line__}),"Feature"!==e.type&&n.push({message:"GeoJSON features must have a type=feature member",line:e.__line__}),c(e,"properties","object"),c(e,"geometry","object")||e.geometry&&s(e.geometry)}var h={Point:function(e){var t;f(e),p(e),void 0!==(t=e).properties&&n.push({message:'geometry object cannot contain a "properties" member',line:t.__line__}),void 0!==t.geometry&&n.push({message:'geometry object cannot contain a "geometry" member',line:t.__line__}),void 0!==t.features&&n.push({message:'geometry object cannot contain a "features" member',line:t.__line__}),c(e,"coordinates","array")||u(e.coordinates)},Feature:d,MultiPoint:function(e){f(e),p(e),c(e,"coordinates","array")||l(e.coordinates,"",1)},LineString:function(e){f(e),p(e),c(e,"coordinates","array")||l(e.coordinates,"Line",1)},MultiLineString:function(e){f(e),p(e),c(e,"coordinates","array")||l(e.coordinates,"Line",2)},FeatureCollection:function(e){if(f(e),p(e),void 0!==e.properties&&n.push({message:'FeatureCollection object cannot contain a "properties" member',line:e.__line__}),void 0!==e.coordinates&&n.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:e.__line__}),!c(e,"features","array")){if(!a(e.features,"object"))return n.push({message:"Every feature must be an object",line:e.__line__});e.features.forEach(d)}},GeometryCollection:function(e){f(e),p(e),c(e,"geometries","array")||(a(e.geometries,"object")||n.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:e.__line__}),1===e.geometries.length&&n.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:e.geometries.__line__}),e.geometries.forEach((function(t){t&&("GeometryCollection"===t.type&&n.push({message:"GeometryCollection should avoid nested geometry collections",line:e.geometries.__line__}),s(t))})))},Polygon:function(e){f(e),p(e),c(e,"coordinates","array")||l(e.coordinates,"LinearRing",2)||lt(e,n)},MultiPolygon:function(e){f(e),p(e),c(e,"coordinates","array")||l(e.coordinates,"LinearRing",3)||lt(e,n)}},g=Object.keys(h).reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{});return"object"!=typeof e||null==e?(n.push({message:"The root of a GeoJSON object must be an object.",line:0}),n):(s(e),n.forEach((function(e){({}).hasOwnProperty.call(e,"line")&&void 0===e.line&&delete e.line})),n)}},pt={hint:function(e,t){var n,o=[];if("object"==typeof e)n=e;else{if("string"!=typeof e)return[{message:"Expected string or object as input",line:0}];try{n=st.parse(e)}catch(i){var r=i.message.match(/line (\d+)/);return[{line:parseInt(r[1],10)-1,message:i.message,error:i}]}}return o.concat(ft.hint(n,t))}},dt={Polygon:B,LineString:V,Point:D,MultiPolygon:z,MultiLineString:z,MultiPoint:z};function ht(e,t){return t.modes=f,t.getFeatureIdsAt=function(t){return C.click({point:t},null,e).map((function(e){return e.properties.id}))},t.getSelectedIds=function(){return e.store.getSelectedIds()},t.getSelected=function(){return{type:l.FEATURE_COLLECTION,features:e.store.getSelectedIds().map((function(t){return e.store.get(t)})).map((function(e){return e.toGeoJSON()}))}},t.getSelectedPoints=function(){return{type:l.FEATURE_COLLECTION,features:e.store.getSelectedCoordinates().map((function(e){return{type:l.FEATURE,properties:{},geometry:{type:l.POINT,coordinates:e.coordinates}}}))}},t.set=function(n){if(void 0===n.type||n.type!==l.FEATURE_COLLECTION||!Array.isArray(n.features))throw new Error("Invalid FeatureCollection");var o=e.store.createRenderBatch(),r=e.store.getAllIds().slice(),i=t.add(n),s=new x(i);return(r=r.filter((function(e){return!s.has(e)}))).length&&t.delete(r),o(),i},t.add=function(t){var n=pt.hint(t,{precisionWarning:!1}).filter((function(e){return"message"!==e.level}));if(n.length)throw new Error(n[0].message);var o=JSON.parse(JSON.stringify(ve(t))).features.map((function(t){if(t.id=t.id||j(),null===t.geometry)throw new Error("Invalid geometry: null");if(void 0===e.store.get(t.id)||e.store.get(t.id).type!==t.geometry.type){var n=dt[t.geometry.type];if(void 0===n)throw new Error("Invalid geometry type: "+t.geometry.type+".");var o=new n(e,t);e.store.add(o)}else{var r=e.store.get(t.id);r.properties=t.properties,Ye(r.getCoordinates(),t.geometry.coordinates)||r.incomingCoords(t.geometry.coordinates)}return t.id}));return e.store.render(),o},t.get=function(t){var n=e.store.get(t);if(n)return n.toGeoJSON()},t.getAll=function(){return{type:l.FEATURE_COLLECTION,features:e.store.getAll().map((function(e){return e.toGeoJSON()}))}},t.delete=function(n){return e.store.delete(n,{silent:!0}),t.getMode()!==f.DIRECT_SELECT||e.store.getSelectedIds().length?e.store.render():e.events.changeMode(f.SIMPLE_SELECT,void 0,{silent:!0}),t},t.deleteAll=function(){return e.store.delete(e.store.getAllIds(),{silent:!0}),t.getMode()===f.DIRECT_SELECT?e.events.changeMode(f.SIMPLE_SELECT,void 0,{silent:!0}):e.store.render(),t},t.changeMode=function(n,o){return void 0===o&&(o={}),n===f.SIMPLE_SELECT&&t.getMode()===f.SIMPLE_SELECT?(r=o.featureIds||[],i=e.store.getSelectedIds(),r.length===i.length&&JSON.stringify(r.map((function(e){return e})).sort())===JSON.stringify(i.map((function(e){return e})).sort())||(e.store.setSelected(o.featureIds,{silent:!0}),e.store.render()),t):(n===f.DIRECT_SELECT&&t.getMode()===f.DIRECT_SELECT&&o.featureId===e.store.getSelectedIds()[0]||e.events.changeMode(n,o,{silent:!0}),t);var r,i},t.getMode=function(){return e.events.getMode()},t.trash=function(){return e.events.trash({silent:!0}),t},t.combineFeatures=function(){return e.events.combineFeatures({silent:!0}),t},t.uncombineFeatures=function(){return e.events.uncombineFeatures({silent:!0}),t},t.setFeatureProperty=function(n,o,r){return e.store.setFeatureProperty(n,o,r),t},t}var gt=function(e,t){var n={options:e=function(e){void 0===e&&(e={});var t=Q(e);return e.controls||(t.controls={}),!1===e.displayControlsDefault?t.controls=Q(Ze,e.controls):t.controls=Q(We,e.controls),(t=Q(Je,t)).styles=qe(t.styles,"cold").concat(qe(t.styles,"hot")),t}(e)};t=ht(n,t),n.api=t;var o=ne(n);return t.onAdd=o.onAdd,t.onRemove=o.onRemove,t.types=u,t.options=e,t};function yt(e){gt(e,this)}return yt.modes=ze,yt}()})),gr=Ho(Ko((function(e,t){window,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){n.r(t);var o={events:[{name:"moveend",check:function(e,t){return t.center&&e.isMoving()}},{name:"zoomend",check:function(e,t){return void 0!==t.zoom&&null!==t.zoom&&e.isZooming()}},{name:"rotateend",check:function(e,t){return void 0!==t.bearing&&null!==t.bearing&&e.isRotating()}},{name:"pitchend",check:function(e,t){return void 0!==t.pitch&&null!==t.bearing&&e.isMoving()}}],getter:function(e){return{center:e.getCenter(),zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}}},r={events:[{name:"moveend",check:function(e){return e.isMoving()}}],getter:function(e){return{center:e.getCenter()}}},i={events:[{name:"zoomend",check:function(e){return e.isZooming()}}],getter:function(e){return{zoom:e.getZoom()}}},s={events:[{name:"rotateend",check:function(e){return e.isRotating()}}],getter:function(e){return{bearing:e.getBearing()}}},a={setCenter:r,panBy:r,panTo:r,setZoom:i,zoomTo:i,zoomIn:i,zoomOut:i,setBearing:s,rotateTo:s,resetNorth:s,snapToNorth:s,setPitch:{events:[{name:"pitchend",check:function(e){return!0}}],getter:function(e){return{pitch:e.getPitch()}}},fitBounds:{events:[{name:"zoomend",check:function(e){return e.isZooming()}},{name:"moveend",check:function(e){return e.isMoving()}},{name:"rotateend",check:function(e){return e.isRotating()}}],getter:function(e){return{zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch(),center:e.getCenter()}}},fitScreenCoordinates:{events:[{name:"zoomend",check:function(e,t){return e.isZooming()}},{name:"moveend",check:function(e,t){return e.isMoving()}},{name:"rotateend",check:function(e,t){return t.bearing&&e.isRotating()}}],getter:function(e){return{zoom:e.getZoom(),center:e.getCenter(),bearing:e.getBearing(),pitch:e.getPitch()}}},jumpTo:o,easeTo:o,flyTo:o};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){l(e,t,n[t])}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return"".concat(e,"-").concat((""+Math.random()).split(".")[1])}function p(e,t,n,o){return function r(i){i.type===t&&i.eventId===n&&(e.off(t,r),o(i))}}function d(e,t){var n=e[t],o=n.length;return function(){for(var r=[],i={eventId:f(t)},s=a[t].events.map((function(t,n){return{event:t,func:new Promise((function(o,s){r[n]={event:t,func:p(e,t.name,i.eventId,o)},e.on(t.name,r[n].func)}))}})),l=[],d=0;d<o;d++)d===o-1?l.push(u({},i,(d<0||arguments.length<=d?void 0:arguments[d])||{})):l.push((d<0||arguments.length<=d?void 0:arguments[d])||null);var h=[],g=(arguments.length<=0?void 0:arguments[0])||{};try{n.apply(e,l),"fitBounds"===t&&(g={}),"fitScreenCoordinates"===t&&((g={bearing:null}).bearing=null,"number"==typeof(arguments.length<=2?void 0:arguments[2])&&(g.bearing=arguments.length<=2?void 0:arguments[2]),(arguments.length<=3?void 0:arguments[3])&&"object"===c(arguments.length<=3?void 0:arguments[3])&&(g=u({},g,arguments.length<=3?void 0:arguments[3]))),h=s.map((function(t){var n=t.event,o=t.func;return n.check(e,g)?o:(e.off(n.name,o),Promise.resolve())}))}catch(y){throw r.forEach((function(t){var n=t.event,o=t.func;e.off(n.name,o)})),y}return Promise.all(h).then((function(){return a[t].getter(e)}))}}var h=d,g=function(e){var t=Object.keys(a),n={};return t.forEach((function(o){-1!==t.indexOf(o)&&(n[o]=h(e,o))})),n};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?h(e,t):g(e)}n.d(t,"default",(function(){return y}))}]).default}))),yr={centimeters:637100880,centimetres:637100880,degrees:6371008.8/111325,feet:20902260.511392,inches:6371008.8*39.37,kilometers:6371.0088,kilometres:6371.0088,meters:6371008.8,metres:6371008.8,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:6371008.8/1852,radians:1,yards:6371008.8/1.0936};function mr(e,t,n){void 0===n&&(n={});var o={type:"Feature"};return(0===n.id||n.id)&&(o.id=n.id),n.bbox&&(o.bbox=n.bbox),o.properties=t||{},o.geometry=e,o}function vr(e){return 180*(e%(2*Math.PI))/Math.PI}function _r(e){return e%360*Math.PI/180}function br(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function Er(e,t,n,o){void 0===o&&(o={});var r=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(e),i=_r(r[0]),s=_r(r[1]),a=_r(n),c=function(e,t){void 0===t&&(t="kilometers");var n=yr[t];if(!n)throw new Error(t+" units is invalid");return e/n}(t,o.units),u=Math.asin(Math.sin(s)*Math.cos(c)+Math.cos(s)*Math.sin(c)*Math.cos(a));return function(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!br(e[0])||!br(e[1]))throw new Error("coordinates must contain numbers");return mr({type:"Point",coordinates:e},t,n)}([vr(i+Math.atan2(Math.sin(a)*Math.sin(c)*Math.cos(s),Math.cos(c)-Math.sin(s)*Math.sin(u))),vr(u)],o.properties)}function xr(e,t,n){void 0===n&&(n={});for(var o=n.steps||64,r=n.properties?n.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},i=[],s=0;s<o;s++)i.push(Er(e,t,-360*s/o,n).geometry.coordinates);return i.push(i[0]),function(e,t,n){void 0===n&&(n={});for(var o=0,r=e;o<r.length;o++){var i=r[o];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<i[i.length-1].length;s++)if(i[i.length-1][s]!==i[0][s])throw new Error("First and last Position are not equivalent.")}return mr({type:"Polygon",coordinates:e},t,n)}([i],r)}export{dr as D,Yo as a,$n as b,Ko as c,qn as d,c as e,xr as f,Kn as g,To as h,qo as i,hr as m,Vn as o,gr as p,Ln as r,nt as t,Rt as w};
